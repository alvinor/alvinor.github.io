# 开发管理

- [前言](#前言)
- [新建并发布](#新建并发布)
- [更新升级](#更新升级)
  - [主版本不变](#主版本不变)
  - [主版本升级](#主版本升级)
- [停止使用](#停止使用)


## 前言
   
   `huwei` 是华威公共文档库，包括 ***对外的API*** ， ***通用公共方法*** ， ***平台公共服务*** 等。
   
   `huweigroup`开发遵循[PSR-4](../psr/PSR-4自动加载规范.md)规范，代码风格须遵循[PSR-1](../psr/PSR-1基础编码规范.md)、[PSR-2](psr/PSR-2编码风格规范.md)；代码注释遵循[PHPDOC](../phpdoc/readme.md)规范
 
`huweigroup` 下所有的资源命名空间均为两层，如 `HuaweiGroup\Demo`  其中 `Huawei` 表示所属组，`Demo` 表示功能库

## 新建并发布
### 1 申请创建类库
申请人将库名，作用等信息提供给 huaweigroup 维护者 夏新宇<alvinor@qq.com>

### 2  huweigroup 初始化类库
   + 在git.qxeden.com 创建类库
   + 初始化 composer.json 及 目录
   + 设置申请人为 类库的 mantainer
   + 邮件通知申请人
   
### 3 申请人成为项目的维护者
  +  添加项目的依赖包
  +  添加项目的开发者
  +  创建develop分支
  + 创建个人开发分支

### 4 开发
+ 项目成员在个人分支下，src目录进行功能开发
+ 合并个人分支到develop 利用vcs在 huaweigroup 工程下进行测试  版本号 `dev-deveop`
+ 自测提交 合并请求
+ 输出wiki文档

### 5 审核发布
+ 项目维护者对负责 code-review
+ 项目维护者打上tag 版本号从1.0.0开始
+ 项目维护者向huweigroup维护者发送发布邮件【可由webhook完成】

### 6 运维发布
+ `huweigroup` 维护者发送运维工单
+ 运维负责将 huweigroup 对应类库信息拉去到 pkgs.qxeden.com 
+ 更新清单

 - - -
##  更新升级
 >  更新升级包括 主版本号变化及主版本号不变两种升级 
###  主版本号不变
此类更新是最常用的更新方式包含 bug修复（次版本号不变，修正版本号调整） 和 功能新增（次版本号 +1）两种方式，需要保持向下兼容。

+ 1. 开发者在个人分支开发
+ 2. 开发者合并到develop在测试环境测试
+ 3. 在应用测试环境进行测试（测试协助）
+ 4. 提交合并请求
+ 5. master发布
+ 6. 提交运维发布
+ 7. 发布代码
+ 8. 通知更新



### 主版本号变化
此类更新，发生在大的功能优化结构调整，一般情况下发生在系统重构后，不需要做向下兼容

- - - - 
## 停止使用
>  *当系统重构或废弃时候将停止使用，需要提前通知使用者*


版本号说明
```
1     .      17    .     6
|             |           |
|             |            ---- 优化及bug修复版本号 
|              ---  功能版本号
 ---主版本号
```
 



  

























