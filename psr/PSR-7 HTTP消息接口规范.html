
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>PSR-7 HTTP消息接口规范 · 书屋</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="杜鑫 <alvinor@qq.com>">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-cuav-chapters/cuav-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-theme-fexa/fexa.css">
                
            
        

    

    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../composer/readme.html" />
    
    
    <link rel="prev" href="PSR-6缓存接口规范.html" />
    

    </head>
    <body>
        
<div class="book">
	<div class="header-inner">
		<!-- LOGO -->
		<div class="logo"></div>
		<span class="title"></span>

		<!-- Search -->
		
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>


		<!-- Nav -->
		<ul class="header-nav">
			<li>
				<a href="http://doc.qxedne.com" target="_blank">首页</a>
			</li><li>
				<a href="https://doc.qxeden.com/mermaidjs" target="_blank">mermaid</a>
			</li><li>
				<a href="https://chrisniael.gitbooks.io/gitbook-documentation/content/" target="_blank">Gitbook</a>
			</li>
		</ul>
	</div>

	<div class="book-summary">
		<div class="book-summary-title">文档目录</div>
		
		
		<nav role="navigation">
			


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    首页
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    PSR
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="PSR-1基础编码规范.html">
            
                <a href="PSR-1基础编码规范.html">
            
                    
                    PSR-1基础编码规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="PSR-2编码风格规范.html">
            
                <a href="PSR-2编码风格规范.html">
            
                    
                    PSR-2编码风格规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="PSR-3日志接口规范.html">
            
                <a href="PSR-3日志接口规范.html">
            
                    
                    PSR-3日志接口规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="PSR-4自动加载规范.html">
            
                <a href="PSR-4自动加载规范.html">
            
                    
                    PSR-4自动加载规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="PSR-6缓存接口规范.html">
            
                <a href="PSR-6缓存接口规范.html">
            
                    
                    PSR-6缓存接口规范
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.6" data-path="PSR-7 HTTP消息接口规范.html">
            
                <a href="PSR-7 HTTP消息接口规范.html">
            
                    
                    PSR-7 HTTP消息接口规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../composer/readme.html">
            
                <a href="../composer/readme.html">
            
                    
                    Composer
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../composer/composer.schema.html">
            
                <a href="../composer/composer.schema.html">
            
                    
                    composer.schema composer.json文件解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../composer/develop.html">
            
                <a href="../composer/develop.html">
            
                    
                    composer 开发测试发布步骤
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../composer/composer.version.html">
            
                <a href="../composer/composer.version.html">
            
                    
                    composer 版本说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../composer/command.html">
            
                <a href="../composer/command.html">
            
                    
                    composer 命令中文说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../composer/workflow.html">
            
                <a href="../composer/workflow.html">
            
                    
                    开发管理流程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../sql.html">
            
                <a href="../sql.html">
            
                    
                    Mysql规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../phpdoc/welcome.html">
            
                <a href="../phpdoc/welcome.html">
            
                    
                    PHPDoc
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../phpdoc/welcome.html">
            
                <a href="../phpdoc/welcome.html#what-is-phpdocumentor">
            
                    
                    What is phpDocumentor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../phpdoc/welcome.html">
            
                <a href="../phpdoc/welcome.html#goals">
            
                    
                    Goals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../phpdoc/getting-started.html">
            
                <a href="../phpdoc/getting-started.html">
            
                    
                    Getting started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1" data-path="../phpdoc/getting-started--installing.html">
            
                <a href="../phpdoc/getting-started--installing.html">
            
                    
                    Installing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.1.1" data-path="../phpdoc/getting-started--installing.html">
            
                <a href="../phpdoc/getting-started--installing.html#system-requirements">
            
                    
                    System Requirements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.1.2" data-path="../phpdoc/getting-started--installing.html">
            
                <a href="../phpdoc/getting-started--installing.html#using-pear">
            
                    
                    Using PEAR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.1.3" data-path="../phpdoc/getting-started--installing.html">
            
                <a href="../phpdoc/getting-started--installing.html#phar">
            
                    
                    PHAR
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.1.4" data-path="../phpdoc/getting-started--installing.html">
            
                <a href="../phpdoc/getting-started--installing.html#using-composer">
            
                    
                    Using Composer
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3.2" data-path="../phpdoc/getting-started--your-first-set-of-documentation.html">
            
                <a href="../phpdoc/getting-started--your-first-set-of-documentation.html">
            
                    
                    Your First Set of Documentation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.2.1" data-path="../phpdoc/getting-started--your-first-set-of-documentation.html">
            
                <a href="../phpdoc/getting-started--your-first-set-of-documentation.html#overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2.2" data-path="../phpdoc/getting-started--your-first-set-of-documentation.html">
            
                <a href="../phpdoc/getting-started--your-first-set-of-documentation.html#writing">
            
                    
                    Writing  a DocBlock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.2.3" data-path="../phpdoc/getting-started--your-first-set-of-documentation.html">
            
                <a href="../phpdoc/getting-started--your-first-set-of-documentation.html#running-phpdocumentor">
            
                    
                    Running phpDocumentor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3.3" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                    
                    Changing the Look and Feel
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.3.3.1" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3.2" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#what-is-template">
            
                    
                    What is a template?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3.3" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#selecting-a-template">
            
                    
                    Selecting a template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3.4" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#using-multiple-templates-at-once">
            
                    
                    Using multiple templates at once
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3.5" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#using-a-custom-template">
            
                    
                    Using a custom template
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3.6" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#adding-templates-to-configuration">
            
                    
                    Adding templates to configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3.7" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#creating-your-own-look-and-feel">
            
                    
                    Creating your own look and feel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3.3.8" data-path="../phpdoc/getting-started--changing-the-look-and-feel.html">
            
                <a href="../phpdoc/getting-started--changing-the-look-and-feel.html#read-more">
            
                    
                    Read more
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../phpdoc/guides.html">
            
                <a href="../phpdoc/guides.html">
            
                    
                    Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1" data-path="../phpdoc/guides--docblocks.html">
            
                <a href="../phpdoc/guides--docblocks.html">
            
                    
                    Inside DocBlocks
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.1.1" data-path="../phpdoc/guides--docblocks.html">
            
                <a href="../phpdoc/guides--docblocks.html#overview">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.1.2" data-path="../phpdoc/guides--docblocks.html">
            
                <a href="../phpdoc/guides--docblocks.html#anatomy-of-a-docblock">
            
                    
                    Anatomy of a DocBlock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.1.3" data-path="../phpdoc/guides--docblocks.html">
            
                <a href="../phpdoc/guides--docblocks.html#related-topics">
            
                    
                    Related topics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4.2" data-path="../phpdoc/guides--types.html">
            
                <a href="../phpdoc/guides--types.html">
            
                    
                    Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.2.1" data-path="../phpdoc/guides--types.html">
            
                <a href="../phpdoc/guides--types.html#types-of-types">
            
                    
                    Types of types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2.2" data-path="../phpdoc/guides--types.html">
            
                <a href="../phpdoc/guides--types.html#arrays">
            
                    
                    Arrays
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2.3" data-path="../phpdoc/guides--types.html">
            
                <a href="../phpdoc/guides--types.html#multiple-types-combined">
            
                    
                    Multiple types combined
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.2.4" data-path="../phpdoc/guides--types.html">
            
                <a href="../phpdoc/guides--types.html#related-topics">
            
                    
                    Related topics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4.3" data-path="../phpdoc/guides--inheritance.html">
            
                <a href="../phpdoc/guides--inheritance.html">
            
                    
                    Inheritance
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.3.1" data-path="../phpdoc/guides--inheritance.html">
            
                <a href="../phpdoc/guides--inheritance.html#">
            
                    
                    The inheritDoc tag
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3.2" data-path="../phpdoc/guides--inheritance.html">
            
                <a href="../phpdoc/guides--inheritance.html#">
            
                    
                    Classes and interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3.3" data-path="../phpdoc/guides--inheritance.html">
            
                <a href="../phpdoc/guides--inheritance.html#">
            
                    
                    Properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3.4" data-path="../phpdoc/guides--inheritance.html">
            
                <a href="../phpdoc/guides--inheritance.html#">
            
                    
                    Methods
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.3.5" data-path="../phpdoc/guides--inheritance.html">
            
                <a href="../phpdoc/guides--inheritance.html#">
            
                    
                    Related topics
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.4.4" data-path="../phpdoc/guides--running-phpdocumentor.html">
            
                <a href="../phpdoc/guides--running-phpdocumentor.html">
            
                    
                    Running phpDocumentor
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.4.4.1" data-path="../phpdoc/guides--running-phpdocumentor.html">
            
                <a href="../phpdoc/guides--running-phpdocumentor.html#quickstart">
            
                    
                    Quickstart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4.2" data-path="../phpdoc/guides--running-phpdocumentor.html">
            
                <a href="../phpdoc/guides--running-phpdocumentor.html#configuration">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4.3" data-path="../phpdoc/guides--running-phpdocumentor.html">
            
                <a href="../phpdoc/guides--running-phpdocumentor.html#influencing-the-list-of-project-files">
            
                    
                    Influencing the List of Project Files
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4.4" data-path="../phpdoc/guides--running-phpdocumentor.html">
            
                <a href="../phpdoc/guides--running-phpdocumentor.html#customizing-the-look-and-feel">
            
                    
                    Customizing the Look and Feel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4.5" data-path="../phpdoc/guides--running-phpdocumentor.html">
            
                <a href="../phpdoc/guides--running-phpdocumentor.html#determining-content">
            
                    
                    Determining Content
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4.4.6" data-path="../phpdoc/guides--running-phpdocumentor.html">
            
                <a href="../phpdoc/guides--running-phpdocumentor.html#maker">
            
                    
                    Markers
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../phpdoc/references.html">
            
                <a href="../phpdoc/references.html">
            
                    
                    References
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../phpdoc/references--phpdoc.html">
            
                <a href="../phpdoc/references--phpdoc.html">
            
                    
                    PHPDoc reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1.1" data-path="../phpdoc/references--phpdoc--basic-syntax.html">
            
                <a href="../phpdoc/references--phpdoc--basic-syntax.html">
            
                    
                    Basic Syntax
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.2" data-path="../phpdoc/references--phpdoc--inheritance.html">
            
                <a href="../phpdoc/references--phpdoc--inheritance.html">
            
                    
                    Inheritance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.3" data-path="../phpdoc/references--phpdoc--types.html">
            
                <a href="../phpdoc/references--phpdoc--types.html">
            
                    
                    Definition of a ‘Type’
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.4" data-path="../phpdoc/references--phpdoc--inline-tags.html">
            
                <a href="../phpdoc/references--phpdoc--inline-tags.html">
            
                    
                    Inline tag reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1.4.1" data-path="../phpdoc/references--phpdoc--inline-tags--example.html">
            
                <a href="../phpdoc/references--phpdoc--inline-tags--example.html">
            
                    
                    @example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.4.2" data-path="../phpdoc/references--phpdoc--inline-tags--internal.html">
            
                <a href="../phpdoc/references--phpdoc--inline-tags--internal.html">
            
                    
                    @internal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.4.3" data-path="../phpdoc/references--phpdoc--inline-tags--inheritdoc.html">
            
                <a href="../phpdoc/references--phpdoc--inline-tags--inheritdoc.html">
            
                    
                    @inheritdoc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.4.4" data-path="../phpdoc/references--phpdoc--inline-tags--link.html">
            
                <a href="../phpdoc/references--phpdoc--inline-tags--link.html">
            
                    
                    @link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.4.5" data-path="../phpdoc/references--phpdoc--inline-tags--see.html">
            
                <a href="../phpdoc/references--phpdoc--inline-tags--see.html">
            
                    
                    @see
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5" data-path="../phpdoc/references--phpdoc--tags.html">
            
                <a href="../phpdoc/references--phpdoc--tags.html">
            
                    
                    Tag reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1.5.1" data-path="../phpdoc/references--phpdoc--tags--api.html">
            
                <a href="../phpdoc/references--phpdoc--tags--api.html">
            
                    
                    @api
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.2" data-path="../phpdoc/references--phpdoc--tags--author.html">
            
                <a href="../phpdoc/references--phpdoc--tags--author.html">
            
                    
                    @author
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.3" data-path="../phpdoc/references--phpdoc--tags--category.html">
            
                <a href="../phpdoc/references--phpdoc--tags--category.html">
            
                    
                    @category
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.4" data-path="../phpdoc/references--phpdoc--tags--copyright.html">
            
                <a href="../phpdoc/references--phpdoc--tags--copyright.html">
            
                    
                    @copyright
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.5" data-path="../phpdoc/references--phpdoc--tags--deprecated.html">
            
                <a href="../phpdoc/references--phpdoc--tags--deprecated.html">
            
                    
                    @deprecated
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.6" data-path="../phpdoc/references--phpdoc--tags--example.html">
            
                <a href="../phpdoc/references--phpdoc--tags--example.html">
            
                    
                    @example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.7" data-path="../phpdoc/references--phpdoc--tags--filesource.html">
            
                <a href="../phpdoc/references--phpdoc--tags--filesource.html">
            
                    
                    @filesource
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.8" data-path="../phpdoc/references--phpdoc--tags--global.html">
            
                <a href="../phpdoc/references--phpdoc--tags--global.html">
            
                    
                    @global
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.9" data-path="../phpdoc/references--phpdoc--tags--ignore.html">
            
                <a href="../phpdoc/references--phpdoc--tags--ignore.html">
            
                    
                    @ignore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.10" data-path="../phpdoc/references--phpdoc--tags--internal.html">
            
                <a href="../phpdoc/references--phpdoc--tags--internal.html">
            
                    
                    @internal
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.11" data-path="../phpdoc/references--phpdoc--tags--license.html">
            
                <a href="../phpdoc/references--phpdoc--tags--license.html">
            
                    
                    @license
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.12" data-path="../phpdoc/references--phpdoc--tags--link.html">
            
                <a href="../phpdoc/references--phpdoc--tags--link.html">
            
                    
                    @link
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.13" data-path="../phpdoc/references--phpdoc--tags--method.html">
            
                <a href="../phpdoc/references--phpdoc--tags--method.html">
            
                    
                    @method
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.14" data-path="../phpdoc/references--phpdoc--tags--package.html">
            
                <a href="../phpdoc/references--phpdoc--tags--package.html">
            
                    
                    @package
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.15" data-path="../phpdoc/references--phpdoc--tags--param.html">
            
                <a href="../phpdoc/references--phpdoc--tags--param.html">
            
                    
                    @param
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.16" data-path="../phpdoc/references--phpdoc--tags--property.html">
            
                <a href="../phpdoc/references--phpdoc--tags--property.html">
            
                    
                    @property
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.17" data-path="../phpdoc/references--phpdoc--tags--property-read.html">
            
                <a href="../phpdoc/references--phpdoc--tags--property-read.html">
            
                    
                    @property-read
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.18" data-path="../phpdoc/references--phpdoc--tags--property-write.html">
            
                <a href="../phpdoc/references--phpdoc--tags--property-write.html">
            
                    
                    @property-write
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.19" data-path="../phpdoc/references--phpdoc--tags--return.html">
            
                <a href="../phpdoc/references--phpdoc--tags--return.html">
            
                    
                    @return
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.20" data-path="../phpdoc/references--phpdoc--tags--see.html">
            
                <a href="../phpdoc/references--phpdoc--tags--see.html">
            
                    
                    @see
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.21" data-path="../phpdoc/references--phpdoc--tags--since.html">
            
                <a href="../phpdoc/references--phpdoc--tags--since.html">
            
                    
                    @since
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.22" data-path="../phpdoc/references--phpdoc--tags--source.html">
            
                <a href="../phpdoc/references--phpdoc--tags--source.html">
            
                    
                    @source
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.23" data-path="../phpdoc/references--phpdoc--tags--subpackage.html">
            
                <a href="../phpdoc/references--phpdoc--tags--subpackage.html">
            
                    
                    @subpackage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.24" data-path="../phpdoc/references--phpdoc--tags--throws.html">
            
                <a href="../phpdoc/references--phpdoc--tags--throws.html">
            
                    
                    @throws
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.25" data-path="../phpdoc/references--phpdoc--tags--todo.html">
            
                <a href="../phpdoc/references--phpdoc--tags--todo.html">
            
                    
                    @todo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.26" data-path="../phpdoc/references--phpdoc--tags--uses.html">
            
                <a href="../phpdoc/references--phpdoc--tags--uses.html">
            
                    
                    @uses & @used-by
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.27" data-path="../phpdoc/references--phpdoc--tags--var.html">
            
                <a href="../phpdoc/references--phpdoc--tags--var.html">
            
                    
                    @var
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.5.28" data-path="../phpdoc/references--phpdoc--tags--version.html">
            
                <a href="../phpdoc/references--phpdoc--tags--version.html">
            
                    
                    @version
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.6" data-path="../phpdoc/references--phpdoc--definitions.html">
            
                <a href="../phpdoc/references--phpdoc--definitions.html">
            
                    
                    Definitions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.1.7" data-path="../phpdoc/references--phpdoc--html-marks.html">
            
                <a href="../phpdoc/references--phpdoc--html-marks.html">
            
                    
                    HTML Marks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="../phpdoc/references--configuration.html">
            
                <a href="../phpdoc/references--configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.2.1" data-path="../phpdoc/references--configuration.html">
            
                <a href="../phpdoc/references--configuration.html#location">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.2" data-path="../phpdoc/references--configuration.html">
            
                <a href="../phpdoc/references--configuration.html#basic-configuration">
            
                    
                    Basic configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.3" data-path="../phpdoc/references--configuration.html">
            
                <a href="../phpdoc/references--configuration.html#reference">
            
                    
                    Reference
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.4" data-path="../phpdoc/references--configuration.html">
            
                <a href="../phpdoc/references--configuration.html#appendix-a-basic-configuration-example">
            
                    
                    Appendix A: basic configuration example
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2.5" data-path="../phpdoc/references--configuration.html">
            
                <a href="../phpdoc/references--configuration.html#appendix-b-complete-configuration-example">
            
                    
                    Appendix B: complete configuration example
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.3" data-path="../phpdoc/references--commands.html">
            
                <a href="../phpdoc/references--commands.html">
            
                    
                    Commands
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.3.1" data-path="../phpdoc/references--commands--project_run.html">
            
                <a href="../phpdoc/references--commands--project_run.html">
            
                    
                    project:run
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.3.1.1" data-path="../phpdoc/references--commands--project_run.html">
            
                <a href="../phpdoc/references--commands--project_run.html#description">
            
                    
                    Description
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3.1.2" data-path="../phpdoc/references--commands--project_run.html">
            
                <a href="../phpdoc/references--commands--project_run.html#usage">
            
                    
                    Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3.1.3" data-path="../phpdoc/references--commands--project_run.html">
            
                <a href="../phpdoc/references--commands--project_run.html#parameters">
            
                    
                    Parameters
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.5.3.2" data-path="../phpdoc/references--commands--project_parse.html">
            
                <a href="../phpdoc/references--commands--project_parse.html">
            
                    
                    project:parse
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3.3" data-path="../phpdoc/references--commands--project_transform.html">
            
                <a href="../phpdoc/references--commands--project_transform.html">
            
                    
                    project:transform
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3.4" data-path="../phpdoc/references--commands--template_list.html">
            
                <a href="../phpdoc/references--commands--template_list.html">
            
                    
                    template:list
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.3.4.1" data-path="../phpdoc/references--commands--template_list.html">
            
                <a href="../phpdoc/references--commands--template_list.html#description">
            
                    
                    Description
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3.4.2" data-path="../phpdoc/references--commands--template_list.html">
            
                <a href="../phpdoc/references--commands--template_list.html#usage">
            
                    
                    Usage
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../phpdoc/internals.html">
            
                <a href="../phpdoc/internals.html">
            
                    
                    Internals
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="../phpdoc/internals--qa.html">
            
                <a href="../phpdoc/internals--qa.html">
            
                    
                    Quality Assurance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="../phpdoc/internals--flow.html">
            
                <a href="../phpdoc/internals--flow.html">
            
                    
                    Application Flow
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.2.1" data-path="../phpdoc/internals--flow.html">
            
                <a href="../phpdoc/internals--flow.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2.2" data-path="../phpdoc/internals--flow.html">
            
                <a href="../phpdoc/internals--flow.html#the-flow-in-more-detail">
            
                    
                    The flow in more detail
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6.3" data-path="../phpdoc/internals--tags.html">
            
                <a href="../phpdoc/internals--tags.html">
            
                    
                    Tags
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.3.1" data-path="../phpdoc/internals--tags.html">
            
                <a href="../phpdoc/internals--tags.html#introduction">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3.2" data-path="../phpdoc/internals--tags.html">
            
                <a href="../phpdoc/internals--tags.html#theory-of-operation">
            
                    
                    Theory of Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3.3" data-path="../phpdoc/internals--tags.html">
            
                <a href="../phpdoc/internals--tags.html#tags-in-plugins">
            
                    
                    Tags in plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3.4" data-path="../phpdoc/internals--tags.html">
            
                <a href="../phpdoc/internals--tags.html#filtering-tags">
            
                    
                    Filtering tags
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3.5" data-path="../phpdoc/internals--tags.html">
            
                <a href="../phpdoc/internals--tags.html#validating-tags">
            
                    
                    Validating tags
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6.4" data-path="../phpdoc/internals--versioning.html">
            
                <a href="../phpdoc/internals--versioning.html">
            
                    
                    Versioning
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.4.1" data-path="../phpdoc/internals--versioning.html">
            
                <a href="../phpdoc/internals--versioning.html#numbering">
            
                    
                    Numbering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.4.2" data-path="../phpdoc/internals--versioning.html">
            
                <a href="../phpdoc/internals--versioning.html#what-is-considered-the-api">
            
                    
                    What is considered the “API”?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6.5" data-path="../phpdoc/internals--build-and-release-process.html">
            
                <a href="../phpdoc/internals--build-and-release-process.html">
            
                    
                    Build and Release process
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.5.1" data-path="../phpdoc/internals--build-and-release-process.html">
            
                <a href="../phpdoc/internals--build-and-release-process.html#introduction">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.5.2" data-path="../phpdoc/internals--build-and-release-process.html">
            
                <a href="../phpdoc/internals--build-and-release-process.html#pipeline">
            
                    
                    Pipeline
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../phpdoc/cookbook.html">
            
                <a href="../phpdoc/cookbook.html">
            
                    
                    Cookbook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../phpdoc/glossary.html">
            
                <a href="../phpdoc/glossary.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../markdown/readme.html">
            
                <a href="../markdown/readme.html">
            
                    
                    Markdown
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


		</nav>
		
		
	</div>

	<!-- Content nav -->
	<div class="book-anchor">
		<div class="book-anchor-title">在这篇文章中:</div>
		<div class="book-anchor-body">

		</div>
	</div>

	<div class="book-body">
		
		<div class="body-inner">
			
			

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >PSR-7 HTTP消息接口规范</a>
    </h1>
</div>




			<div class="page-wrapper" tabindex="-1" role="main">
				<div class="page-inner">
					
<div id="book-search-results">
    <div class="search-noresults">
    
					<section class="normal markdown-section">
						
						<h1 id="&#x300C;psr-&#x89C4;&#x8303;&#x300D;psr-7-http-&#x6D88;&#x606F;&#x63A5;&#x53E3;&#x89C4;&#x8303;">&#x300C;PSR &#x89C4;&#x8303;&#x300D;PSR-7 HTTP &#x6D88;&#x606F;&#x63A5;&#x53E3;&#x89C4;&#x8303;</h1>
<h1 id="http&#x6D88;&#x606F;&#x63A5;&#x53E3;">HTTP&#x6D88;&#x606F;&#x63A5;&#x53E3;</h1>
<p>&#x6B64;&#x6587;&#x6863;&#x63CF;&#x8FF0;&#x4E86; <a href="http://tools.ietf.org/html/rfc7230" target="_blank">RFC 7230</a> &#x548C;
<a href="http://tools.ietf.org/html/rfc7231" target="_blank">RFC 7231</a> HTTP &#x6D88;&#x606F;&#x4F20;&#x9012;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x8FD8;&#x6709; <a href="http://tools.ietf.org/html/rfc3986" target="_blank">RFC 3986</a> &#x91CC;&#x5BF9; HTTP &#x6D88;&#x606F;&#x7684; URIs &#x4F7F;&#x7528;&#x3002;</p>
<p>HTTP &#x6D88;&#x606F;&#x662F; Web &#x6280;&#x672F;&#x53D1;&#x5C55;&#x7684;&#x57FA;&#x7840;&#x3002;&#x6D4F;&#x89C8;&#x5668;&#x6216; HTTP &#x5BA2;&#x6237;&#x7AEF;&#x5982; <code>curl</code> &#x751F;&#x6210;&#x53D1;&#x9001; HTTP &#x8BF7;&#x6C42;&#x6D88;&#x606F;&#x5230; Web &#x670D;&#x52A1;&#x5668;&#xFF0C;Web &#x670D;&#x52A1;&#x5668;&#x54CD;&#x5E94; HTTP &#x8BF7;&#x6C42;&#x3002;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EE3;&#x7801;&#x63A5;&#x53D7; HTTP &#x8BF7;&#x6C42;&#x6D88;&#x606F;&#x540E;&#x8FD4;&#x56DE; HTTP &#x54CD;&#x5E94;&#x6D88;&#x606F;&#x3002;</p>
<p>&#x901A;&#x5E38; HTTP &#x6D88;&#x606F;&#x5BF9;&#x4E8E;&#x7EC8;&#x7AEF;&#x7528;&#x6237;&#x6765;&#x8BF4;&#x662F;&#x4E0D;&#x53EF;&#x89C1;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4F5C;&#x4E3A; Web &#x5F00;&#x53D1;&#x8005;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053; HTTP &#x673A;&#x5236;&#xFF0C;&#x5982;&#x4F55;&#x53D1;&#x8D77;&#x3001;&#x6784;&#x5EFA;&#x3001;&#x53D6;&#x7528;&#x8FD8;&#x6709;&#x64CD;&#x7EB5; HTTP &#x6D88;&#x606F;&#xFF0C;&#x77E5;&#x9053;&#x8FD9;&#x4E9B;&#x539F;&#x7406;&#xFF0C;&#x4EE5;&#x52A9;&#x6211;&#x4EEC;&#x521A;&#x597D;&#x7684;&#x5B8C;&#x6210;&#x5F00;&#x53D1;&#x4EFB;&#x52A1;&#xFF0C;&#x65E0;&#x8BBA;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x662F;&#x53D1;&#x8D77;&#x4E00;&#x4E2A; HTTP &#x8BF7;&#x6C42;&#xFF0C;&#x6216;&#x8005;&#x5904;&#x7406;&#x4F20;&#x5165;&#x7684;&#x8BF7;&#x6C42;&#x3002; </p>
<p>&#x6BCF;&#x4E00;&#x4E2A; HTTP &#x8BF7;&#x6C42;&#x90FD;&#x6709;&#x4E13;&#x5C5E;&#x7684;&#x683C;&#x5F0F;&#xFF1A;</p>
<pre><code class="lang-http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/path</span> HTTP/1.1
<span class="hljs-attribute">Host</span>: example.com

<span class="ini"><span class="hljs-attr">foo</span>=bar&amp;baz=bat
</span></code></pre>
<p>&#x6309;&#x7167;&#x987A;&#x5E8F;&#xFF0C;&#x7B2C;&#x4E00;&#x884C;&#x7684;&#x5404;&#x4E2A;&#x5B57;&#x6BB5;&#x610F;&#x4E49;&#x4E3A;&#xFF1A; HTTP &#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x3001;&#x8BF7;&#x6C42;&#x7684;&#x76EE;&#x6807;&#x5730;&#x5740;&#xFF08;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x4E2A;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x7684; URI &#x6216;
&#x8005;&#x8DEF;&#x5F84;&#xFF09;&#xFF0C;HTTP &#x534F;&#x8BAE;&#x3002;</p>
<p>&#x63A5;&#x4E0B;&#x6765;&#x662F; HTTP &#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF1A;&#x76EE;&#x7684;&#x4E3B;&#x673A;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x7A7A;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x3002;</p>
<p>HTTP &#x8FD4;&#x56DE;&#x6D88;&#x606F;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x7ED3;&#x6784;&#xFF1A;</p>
<pre><code class="lang-http">HTTP/1.1 <span class="hljs-number">200</span> OK
<span class="hljs-attribute">Content-Type</span>: text/plain

<span class="undefined">&#x8FD9;&#x662F;&#x8FD4;&#x56DE;&#x7684;&#x6D88;&#x606F;&#x5185;&#x5BB9;
</span></code></pre>
<p>&#x6309;&#x7167;&#x987A;&#x5E8F;&#xFF0C;&#x7B2C;&#x4E00;&#x884C;&#x4E3A;&#x72B6;&#x6001;&#x884C;&#xFF0C;&#x5305;&#x62EC; HTTP &#x534F;&#x8BAE;&#x7248;&#x672C;&#xFF0C;HTTP &#x72B6;&#x6001;&#x7801;&#xFF0C;&#x63CF;&#x8FF0;&#x6587;&#x672C;&#x3002;</p>
<p>&#x548C; HTTP &#x8BF7;&#x6C42;&#x7C7B;&#x4F3C;&#x7684;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F; HTTP &#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x4F8B;&#x5B50;&#x4E2D;&#xFF1A;&#x5185;&#x5BB9;&#x7C7B;&#x578B;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x7A7A;&#x884C;&#xFF0C;&#x7136;&#x540E;&#x662F;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x6B64;&#x6587;&#x6863;&#x63A2;&#x8BA8;&#x7684;&#x662F; HTTP &#x8BF7;&#x6C42;&#x6D88;&#x606F;&#x63A5;&#x53E3;&#xFF0C;&#x548C;&#x6784;&#x5EFA; HTTP &#x6D88;&#x606F;&#x9700;&#x8981;&#x7684;&#x5143;&#x7D20;&#x6570;&#x636E;&#x5B9A;&#x4E49;&#x3002;</p>
<h3 id="&#x53C2;&#x8003;&#x8D44;&#x6599;">&#x53C2;&#x8003;&#x8D44;&#x6599;</h3>
<ul>
<li><a href="http://tools.ietf.org/html/rfc2119" target="_blank">RFC 2119</a></li>
<li><a href="http://tools.ietf.org/html/rfc3986" target="_blank">RFC 3986</a></li>
<li><a href="http://tools.ietf.org/html/rfc7230" target="_blank">RFC 7230</a></li>
<li><a href="http://tools.ietf.org/html/rfc7231" target="_blank">RFC 7231</a></li>
</ul>
<h2 id="&#x5173;&#x4E8E;&#x300C;&#x80FD;&#x613F;&#x52A8;&#x8BCD;&#x300D;&#x7684;&#x4F7F;&#x7528;">&#x5173;&#x4E8E;&#x300C;&#x80FD;&#x613F;&#x52A8;&#x8BCD;&#x300D;&#x7684;&#x4F7F;&#x7528;</h2>
<p>&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x6B67;&#x4E49;&#xFF0C;&#x6587;&#x6863;&#x5927;&#x91CF;&#x4F7F;&#x7528;&#x4E86;&#x300C;&#x80FD;&#x613F;&#x52A8;&#x8BCD;&#x300D;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x89E3;&#x91CA;&#x5982;&#x4E0B;&#xFF1A;</p>
<ul>
<li><code>&#x5FC5;&#x987B; (MUST)</code>&#xFF1A;&#x7EDD;&#x5BF9;&#xFF0C;&#x4E25;&#x683C;&#x9075;&#x5FAA;&#xFF0C;&#x8BF7;&#x7167;&#x505A;&#xFF0C;&#x65E0;&#x6761;&#x4EF6;&#x9075;&#x5B88;&#xFF1B;</li>
<li><code>&#x4E00;&#x5B9A;&#x4E0D;&#x53EF; (MUST NOT)</code>&#xFF1A;&#x7981;&#x4EE4;&#xFF0C;&#x4E25;&#x4EE4;&#x7981;&#x6B62;&#xFF1B;</li>
<li><code>&#x5E94;&#x8BE5; (SHOULD)</code> &#xFF1A;&#x5F3A;&#x70C8;&#x5EFA;&#x8BAE;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5F3A;&#x6C42;&#xFF1B;</li>
<li><code>&#x4E0D;&#x8BE5; (SHOULD NOT)</code>&#xFF1A;&#x5F3A;&#x70C8;&#x4E0D;&#x5EFA;&#x8BAE;&#x8FD9;&#x6837;&#x505A;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x5F3A;&#x6C42;&#xFF1B;</li>
<li><code>&#x53EF;&#x4EE5; (MAY)</code> &#x548C; <code>&#x53EF;&#x9009; (OPTIONAL)</code> &#xFF1A;&#x9009;&#x62E9;&#x6027;&#x9AD8;&#x4E00;&#x70B9;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x6587;&#x6863;&#x5185;&#xFF0C;&#x6B64;&#x8BCD;&#x8BED;&#x4F7F;&#x7528;&#x8F83;&#x5C11;&#xFF1B;</li>
</ul>
<blockquote>
<p>&#x53C2;&#x89C1;&#xFF1A;<a href="http://www.ietf.org/rfc/rfc2119.txt" target="_blank">RFC 2119</a></p>
</blockquote>
<h2 id="1-&#x89C4;&#x8303;&#x8BE6;&#x60C5;">1. &#x89C4;&#x8303;&#x8BE6;&#x60C5;</h2>
<h3 id="11-&#x6D88;&#x606F;">1.1 &#x6D88;&#x606F;</h3>
<p>&#x4E00;&#x4E2A; HTTP &#x6D88;&#x606F;&#xFF0C;&#x6307;&#x5B9A;&#x662F;&#x4E00;&#x4E2A;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x5F80;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8FD4;&#x56DE;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x54CD;&#x5E94;&#x3002;&#x5BF9;&#x5E94;&#x7684;&#x4E24;
&#x4E2A;&#x6D88;&#x606F;&#x63A5;&#x53E3;&#xFF1A;<code>Psr\Http\Message\RequestInterface</code> &#x548C; <code>Psr\Http\Message\ResponseInterface</code>&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x4E24;&#x4E2A;&#x63A5;&#x53E3;&#x90FD;&#x7EE7;&#x627F;&#x4E8E; <code>Psr\Http\Message\MessageInterface</code>&#x3002;&#x867D;&#x7136;&#x4F60; <strong>&#x53EF;&#x4EE5;</strong> &#x5B9E;&#x73B0;
 <code>Psr\Http\Message\MessageInterface</code> &#x63A5;&#x53E3;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x6700;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x4F60; <strong>&#x5FC5;&#x987B;</strong> &#x5B9E;&#x73B0;
 <code>Psr\Http\Message\RequestInterface</code> &#x548C; <code>Psr\Http\Message\ResponseInterface</code> 
 &#x63A5;&#x53E3;&#x3002;</p>
<p>&#x4ECE;&#x73B0;&#x5728;&#x5F00;&#x59CB;&#xFF0C;&#x4E3A;&#x4E86;&#x884C;&#x6587;&#x7684;&#x65B9;&#x4FBF;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x5230;&#x8FD9;&#x4E9B;&#x63A5;&#x53E3;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x90FD;&#x4F1A;&#x628A;&#x547D;&#x540D;&#x7A7A;&#x95F4; <code>Psr\Http\Message</code> &#x53BB;&#x9664;&#x6389;&#x3002;</p>
<h3 id="12-http-&#x5934;&#x4FE1;&#x606F;">1.2 HTTP &#x5934;&#x4FE1;&#x606F;</h3>
<h4 id="&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x5B57;">&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x5B57;</h4>
<p>HTTP &#x6D88;&#x606F;&#x5305;&#x542B;&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#x5934;&#x4FE1;&#x606F;&#x3002;&#x4F7F;&#x7528; <code>MessageInterface</code> &#x63A5;&#x53E3;&#x6765;&#x8BBE;&#x7F6E;&#x548C;&#x83B7;&#x53D6;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5927;&#x5C0F;&#x5199;
&#x4E0D;&#x654F;&#x611F;&#x7684;&#x5B9A;&#x4E49;&#x5728;&#x4E8E;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x8BBE;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A; <code>Foo</code> &#x7684;&#x5934;&#x4FE1;&#x606F;&#xFF0C;<code>foo</code> &#x7684;&#x503C;&#x4F1A;&#x88AB;&#x91CD;&#x5199;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>foo</code> &#x6765;
&#x62FF;&#x5230; <code>FoO</code> &#x5934;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002;</p>
<pre><code class="lang-php">$message = $message-&gt;withHeader(<span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-string">&apos;bar&apos;</span>);

<span class="hljs-keyword">echo</span> $message-&gt;getHeaderLine(<span class="hljs-string">&apos;foo&apos;</span>);
<span class="hljs-comment">// &#x8F93;&#x51FA;: bar</span>

<span class="hljs-keyword">echo</span> $message-&gt;getHeaderLine(<span class="hljs-string">&apos;FOO&apos;</span>);
<span class="hljs-comment">// &#x8F93;&#x51FA;: bar</span>

$message = $message-&gt;withHeader(<span class="hljs-string">&apos;fOO&apos;</span>, <span class="hljs-string">&apos;baz&apos;</span>);
<span class="hljs-keyword">echo</span> $message-&gt;getHeaderLine(<span class="hljs-string">&apos;foo&apos;</span>);
<span class="hljs-comment">// &#x8F93;&#x51FA;: baz</span>
</code></pre>
<p>&#x867D;&#x7136;&#x5934;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x7528;&#x5927;&#x5C0F;&#x5199;&#x4E0D;&#x654F;&#x611F;&#x7684;&#x65B9;&#x5F0F;&#x53D6;&#x51FA;&#xFF0C;&#x4F46;&#x662F;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x7C7B; <strong>&#x5FC5;&#x987B;</strong> &#x4FDD;&#x6301;&#x81EA;&#x5DF1;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x89C4;&#x8303;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x7528; <code>getHeaders()</code> &#x65B9;&#x6CD5;&#x8F93;&#x51FA;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x56E0;&#x4E3A;&#x4E00;&#x4E9B;&#x975E;&#x6807;&#x51C6;&#x7684; HTTP &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x4F9D;&#x8D56;&#x4E8E;&#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x7684;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x6709;&#x5728;&#x6B64;&#x6211;&#x4EEC;&#x628A;&#x4E3B;&#x5BB0; HTTP &#x5927;&#x5C0F;&#x5199;&#x7684;&#x6743;&#x5229;&#x5F00;&#x653E;&#x51FA;&#x6765;&#xFF0C;&#x4EE5;&#x9002;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x573A;&#x666F;&#x3002;</p>
<h4 id="&#x5BF9;&#x5E94;&#x591A;&#x6761;&#x6570;&#x7EC4;&#x7684;&#x5934;&#x4FE1;&#x606F;">&#x5BF9;&#x5E94;&#x591A;&#x6761;&#x6570;&#x7EC4;&#x7684;&#x5934;&#x4FE1;&#x606F;</h4>
<p>&#x4E3A;&#x4E86;&#x9002;&#x7528;&#x4E00;&#x4E2A; HTTP &#x300C;&#x952E;&#x300D;&#x53EF;&#x4EE5;&#x5BF9;&#x5E94;&#x591A;&#x6761;&#x6570;&#x636E;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x914D;&#x5408;&#x6570;&#x7EC4;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4ECE;&#x4E00;&#x4E2A; <code>MessageInterface</code> &#x53D6;&#x51FA;&#x6570;&#x7EC4;&#x6216;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x4F7F;&#x7528; <code>getHeaderLine($name)</code> &#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x901A;&#x8FC7;&#x9017;&#x53F7;&#x5206;&#x5272;&#x7684;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x7684;&#x6240;&#x6709;&#x503C;&#x3002;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>getHeader($name)</code> &#x83B7;&#x53D6;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x5934;&#x4FE1;&#x606F;&#x7684;&#x6240;&#x6709;&#x503C;&#x3002;</p>
<pre><code class="lang-php">$message = $message
    -&gt;withHeader(<span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-string">&apos;bar&apos;</span>)
    -&gt;withAddedHeader(<span class="hljs-string">&apos;foo&apos;</span>, <span class="hljs-string">&apos;baz&apos;</span>);

$header = $message-&gt;getHeaderLine(<span class="hljs-string">&apos;foo&apos;</span>);
<span class="hljs-comment">// $header &#x5305;&#x542B;: &apos;bar, baz&apos;</span>

$header = $message-&gt;getHeader(<span class="hljs-string">&apos;foo&apos;</span>);
<span class="hljs-comment">// [&apos;bar&apos;, &apos;baz&apos;]</span>
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5934;&#x4FE1;&#x606F;&#x90FD;&#x53EF;&#x4EE5;&#x9002;&#x7528;&#x9017;&#x53F7;&#x5206;&#x5272;&#xFF08;&#x4F8B;&#x5982; <code>Set-Cookie</code>&#xFF09;&#xFF0C;&#x5F53;&#x5904;&#x7406;&#x8FD9;&#x79CD;&#x5934;&#x4FE1;&#x606F;&#x65F6;&#x5019;&#xFF0C; <code>MessageInterace</code> &#x7684;&#x7EE7;&#x627F;&#x7C7B; <strong>&#x5E94;&#x8BE5;</strong> &#x4F7F;&#x7528; <code>getHeader($name)</code> &#x65B9;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x8FD9;&#x79CD;&#x591A;&#x503C;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<h4 id="&#x4E3B;&#x673A;&#x4FE1;&#x606F;">&#x4E3B;&#x673A;&#x4FE1;&#x606F;</h4>
<p>&#x5728;&#x8BF7;&#x6C42;&#x4E2D;&#xFF0C;<code>Host</code> &#x5934;&#x4FE1;&#x606F;&#x901A;&#x5E38;&#x548C; URI &#x7684; host &#x4FE1;&#x606F;&#xFF0C;&#x8FD8;&#x6709;&#x5EFA;&#x7ACB;&#x8D77; TCP &#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x7684; Host &#x4FE1;&#x606F;&#x4E00;&#x81F4;&#x3002;
&#x7136;&#x800C;&#xFF0C;HTTP &#x6807;&#x51C6;&#x89C4;&#x8303;&#x5141;&#x8BB8;&#x4E3B;&#x673A; <code>host</code> &#x4FE1;&#x606F;&#x4E0E;&#x5176;&#x4ED6;&#x4E24;&#x4E2A;&#x4E0D;&#x4E00;&#x6837;&#x3002;</p>
<p>&#x5728;&#x6784;&#x5EFA;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C; <code>host</code> &#x5934;&#x4FE1;&#x606F;&#x672A;&#x63D0;&#x4F9B;&#x7684;&#x8BDD;&#xFF0C;&#x5B9E;&#x73B0;&#x7C7B;&#x5E93; <strong>&#x5FC5;&#x987B;</strong> &#x5C1D;&#x8BD5;&#x7740;&#x4ECE; URI &#x4E2D;&#x63D0;&#x53D6; <code>host</code> 
&#x4FE1;&#x606F;&#x3002;</p>
<p><code>RequestInterface::withUri()</code> &#x4F1A;&#x9ED8;&#x8BA4;&#x7684;&#xFF0C;&#x4ECE;&#x4F20;&#x53C2;&#x7684; <code>UriInterface</code> &#x5B9E;&#x4F8B;&#x4E2D;&#x63D0;&#x53D6; <code>host</code> &#xFF0C;
&#x5E76;&#x66FF;&#x4EE3;&#x8BF7;&#x6C42;&#x4E2D;&#x539F;&#x6709;&#x7684; <code>host</code> &#x4FE1;&#x606F;&#x3002;</p>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x4F20;&#x53C2;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E3A; <code>true</code> &#x6765;&#x4FDD;&#x8BC1;&#x8FD4;&#x56DE;&#x7684;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x4E2D;&#xFF0C;&#x539F;&#x6709;&#x7684; <code>host</code> &#x5934;&#x4FE1;&#x606F;&#x4E0D;&#x4F1A;&#x88AB;&#x66FF;&#x4EE3;&#x6389;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x8868;&#x683C;&#x8BF4;&#x660E;&#x4E86;&#x5F53; <code>withUri()</code> &#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>true</code> &#x7684;&#x65F6;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x4E2D;&#x8C03;&#x7528;
 <code>getHeaderLine(&apos;Host&apos;)</code> &#x65B9;&#x6CD5;&#x4F1A;&#x8FD4;&#x56DE;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p>
<table>
<thead>
<tr>
<th>&#x8BF7;&#x6C42; Host &#x5934;&#x4FE1;&#x606F;<sup><a href="#rhh">1</a></sup></th>
<th>&#x8BF7;&#x6C42; URI &#x4E2D;&#x7684; Host &#x4FE1;&#x606F;<sup><a href="#rhc">2</a></sup></th>
<th>&#x4F20;&#x53C2;&#x8FDB;&#x53BB; URI &#x7684; Host  <sup><a href="#uhc">3</a></sup></th>
<th>&#x7ED3;&#x679C;</th>
</tr>
</thead>
<tbody>
<tr>
<td>&apos;&apos;</td>
<td>&apos;&apos;</td>
<td>&apos;&apos;</td>
<td>&apos;&apos;</td>
</tr>
<tr>
<td>&apos;&apos;</td>
<td>foo.com</td>
<td>&apos;&apos;</td>
<td>foo.com</td>
</tr>
<tr>
<td>&apos;&apos;</td>
<td>foo.com</td>
<td>bar.com</td>
<td>foo.com</td>
</tr>
<tr>
<td>foo.com</td>
<td>&apos;&apos;</td>
<td>bar.com</td>
<td>foo.com</td>
</tr>
<tr>
<td>foo.com</td>
<td>bar.com</td>
<td>baz.com</td>
<td>foo.com</td>
</tr>
</tbody>
</table>
<ul>
<li><sup id="rhh">1</sup> &#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684; <code>Host</code> &#x5934;&#x4FE1;&#x606F;&#x3002;</li>
<li><sup id="rhc">2</sup> &#x5F53;&#x524D;&#x8BF7;&#x6C42; <code>URI</code> &#x4E2D;&#x7684; <code>Host</code> &#x4FE1;&#x606F;&#x3002;</li>
<li><sup id="uhc">3</sup> &#x901A;&#x8FC7; <code>withUri()</code> &#x4F20;&#x53C2;&#x8FDB;&#x5165;&#x7684; URI &#x4E2D;&#x7684; <code>host</code> &#x4FE1;&#x606F;&#x3002;</li>
</ul>
<h3 id="13-&#x6570;&#x636E;&#x6D41;">1.3 &#x6570;&#x636E;&#x6D41;</h3>
<p>HTTP &#x6D88;&#x606F;&#x5305;&#x542B;&#x5F00;&#x59CB;&#x7684;&#x4E00;&#x884C;&#x3001;&#x5934;&#x4FE1;&#x606F;&#x3001;&#x8FD8;&#x6709;&#x6D88;&#x606F;&#x7684;&#x5185;&#x5BB9;&#x3002;HTTP &#x7684;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x6709;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x5F88;&#x5C0F;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x786E;&#x662F;
&#x975E;&#x5E38;&#x5DE8;&#x5927;&#x3002;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x5C55;&#x793A;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#xFF0C;&#x4F1A;&#x6D88;&#x8017;&#x5927;&#x91CF;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x6D41;&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8BFB;&#x53D6;&#x6D88;&#x606F;
&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#x3002;<code>StreamInterface</code> &#x63A5;&#x53E3;&#x7528;&#x6765;&#x9690;&#x85CF;&#x5177;&#x4F53;&#x7684;&#x6570;&#x636E;&#x6D41;&#x8BFB;&#x5199;&#x5B9E;&#x73B0;&#x3002;&#x5728;&#x4E00;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6D88;&#x606F;
&#x7C7B;&#x578B;&#x7684;&#x8BFB;&#x53D6;&#x65B9;&#x5F0F;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x662F;&#x80FD;&#x5BB9;&#x8BB8;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>php://memory</code> &#x6216;&#x8005; <code>php://temp</code>&#x3002;</p>
<p><code>StreamInterface</code> &#x66B4;&#x9732;&#x51FA;&#x6765;&#x51E0;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x8FD9;&#x4E9B;&#x63A5;&#x53E3;&#x5141;&#x8BB8;&#x4F60;&#x8BFB;&#x53D6;&#x3001;&#x5199;&#x5165;&#xFF0C;&#x8FD8;&#x6709;&#x9AD8;&#x6548;&#x7684;&#x904D;&#x5386;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x6570;&#x636E;&#x6D41;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x4E09;&#x4E2A;&#x63A5;&#x53E3;&#x6765;&#x9610;&#x660E;&#x5BF9;&#x4ED6;&#x4EEC;&#x7684;&#x64CD;&#x4F5C;&#x80FD;&#x529B;&#xFF1A;<code>isReadable()</code>&#x3001;<code>isWritable()</code> &#x548C;
 <code>isSeekable()</code>&#x3002;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x8BA9;&#x6570;&#x636E;&#x6D41;&#x7684;&#x64CD;&#x4F5C;&#x8005;&#x5F97;&#x77E5;&#x6570;&#x636E;&#x6D41;&#x80FD;&#x5426;&#x80FD;&#x63D0;&#x4F9B;&#x4ED6;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x529F;&#x80FD;&#x3002;</p>
<p>&#x6BCF;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6D41;&#x7684;&#x5B9E;&#x4F8B;&#xFF0C;&#x90FD;&#x4F1A;&#x6709;&#x591A;&#x79CD;&#x529F;&#x80FD;&#xFF1A;&#x53EF;&#x4EE5;&#x53EA;&#x8BFB;&#x3001;&#x53EF;&#x4EE5;&#x53EA;&#x5199;&#x3001;&#x53EF;&#x4EE5;&#x8BFB;&#x548C;&#x5199;&#xFF0C;&#x53EF;&#x4EE5;&#x968F;&#x673A;&#x8BFB;&#x53D6;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;&#x987A;&#x5E8F;&#x8BFB;&#x53D6;&#x7B49;&#x3002;</p>
<p>&#x6700;&#x7EC8;&#xFF0C;<code>StreamInterface</code> &#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A; <code>__toString()</code> &#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x7528;&#x6765;&#x4E00;&#x6B21;&#x6027;&#x4EE5;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5F62;&#x5F0F;&#x8F93;&#x51FA;
&#x6240;&#x6709;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x3002;</p>
<p>&#x4E0E;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;<code>StreamInterface</code> &#x5E76;&#x4E0D;&#x5F3A;&#x8C03;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x6027;&#x3002;&#x56E0;&#x4E3A;&#x5728; PHP &#x7684;&#x5B9E;&#x73B0;&#x5185;&#xFF0C;&#x57FA;
&#x672C;&#x4E0A;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x4FDD;&#x8BC1;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x6027;&#xFF0C;&#x56E0;&#x4E3A;&#x6307;&#x9488;&#x7684;&#x6307;&#x5411;&#xFF0C;&#x5185;&#x5BB9;&#x7684;&#x53D8;&#x66F4;&#x7B49;&#x72B6;&#x6001;&#xFF0C;&#x90FD;&#x662F;&#x4E0D;&#x53EF;&#x63A7;&#x7684;&#x3002;&#x4F5C;&#x4E3A;&#x8BFB;&#x53D6;&#x8005;&#xFF0C;&#x53EF;&#x4EE5;
&#x8C03;&#x7528;&#x53EA;&#x8BFB;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x6D41;&#xFF0C;&#x4EE5;&#x6700;&#x5927;&#x7A0B;&#x5EA6;&#x4E0A;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x6D41;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x6027;&#x3002;&#x4F7F;&#x7528;&#x8005;&#x8981;&#x65F6;&#x523B;&#x660E;&#x786E;&#x7684;&#x77E5;&#x9053;&#x6570;&#x636E;
&#x6D41;&#x7684;&#x53EF;&#x4FEE;&#x6539;&#x6027;&#xFF0C;&#x5EFA;&#x8BAE;&#x628A;&#x6570;&#x636E;&#x6D41;&#x9644;&#x52A0;&#x5230;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x4E2D;&#xFF0C;&#x6765;&#x5F3A;&#x8FEB;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;&#x7279;&#x6027;&#x3002;</p>
<h3 id="14-&#x8BF7;&#x6C42;&#x76EE;&#x6807;&#x548C;-uri">1.4 &#x8BF7;&#x6C42;&#x76EE;&#x6807;&#x548C; URI</h3>
<blockquote>
<p>&#x7FFB;&#x8BD1;&#x5230;&#x6B64;&#x5148;&#x544A;&#x4E00;&#x6BB5;&#x843D;&#xFF0C;&#x6B64;&#x89C4;&#x8303;&#x7BC7;&#x5E45;&#x6709;&#x70B9;&#x8FC7;&#x957F;&#xFF0C;&#x9700;&#x8981;&#x6D88;&#x8017;&#x7684;&#x65F6;&#x95F4;&#x633A;&#x957F;&#x7684;&#xFF0C;&#x6682;&#x4E14;&#x7FFB;&#x8BD1;&#x81F3;&#x6B64;&#xFF0C;&#x4ED6;&#x65E5;&#x518D;&#x6218;&#x3002;</p>
</blockquote>
<p>Per RFC 7230, request messages contain a &quot;request-target&quot; as the second segment
of the request line. The request target can be one of the following forms:</p>
<ul>
<li><strong>origin-form</strong>, which consists of the path, and, if present, the query
string; this is often referred to as a relative URL. Messages as transmitted
over TCP typically are of origin-form; scheme and authority data are usually
only present via CGI variables.</li>
<li><strong>absolute-form</strong>, which consists of the scheme, authority
(&quot;[user-info@]host[:port]&quot;, where items in brackets are optional), path (if
present), query string (if present), and fragment (if present). This is often
referred to as an absolute URI, and is the only form to specify a URI as
detailed in RFC 3986. This form is commonly used when making requests to
HTTP proxies.</li>
<li><strong>authority-form</strong>, which consists of the authority only. This is typically
used in CONNECT requests only, to establish a connection between an HTTP
client and a proxy server.</li>
<li><strong>asterisk-form</strong>, which consists solely of the string <code>*</code>, and which is used
with the OPTIONS method to determine the general capabilities of a web server.</li>
</ul>
<p>Aside from these request-targets, there is often an &apos;effective URL&apos; which is
separate from the request target. The effective URL is not transmitted within
an HTTP message, but it is used to determine the protocol (http/https), port
and hostname for making the request.</p>
<p>The effective URL is represented by <code>UriInterface</code>. <code>UriInterface</code> models HTTP
and HTTPS URIs as specified in RFC 3986 (the primary use case). The interface
provides methods for interacting with the various URI parts, which will obviate
the need for repeated parsing of the URI. It also specifies a <code>__toString()</code>
method for casting the modeled URI to its string representation.</p>
<p>When retrieving the request-target with <code>getRequestTarget()</code>, by default this
method will use the URI object and extract all the necessary components to
construct the <em>origin-form</em>. The <em>origin-form</em> is by far the most common
request-target.</p>
<p>If it&apos;s desired by an end-user to use one of the other three forms, or if the
user wants to explicitly override the request-target, it is possible to do so
with <code>withRequestTarget()</code>.</p>
<p>Calling this method does not affect the URI, as it is returned from <code>getUri()</code>.</p>
<p>For example, a user may want to make an asterisk-form request to a server:</p>
<pre><code class="lang-php">$request = $request
    -&gt;withMethod(<span class="hljs-string">&apos;OPTIONS&apos;</span>)
    -&gt;withRequestTarget(<span class="hljs-string">&apos;*&apos;</span>)
    -&gt;withUri(<span class="hljs-keyword">new</span> Uri(<span class="hljs-string">&apos;https://example.org/&apos;</span>));
</code></pre>
<p>This example may ultimately result in an HTTP request that looks like this:</p>
<pre><code class="lang-http"><span class="hljs-keyword">OPTIONS</span> <span class="hljs-string">*</span> HTTP/1.1
</code></pre>
<p>But the HTTP client will be able to use the effective URL (from <code>getUri()</code>),
to determine the protocol, hostname and TCP port.</p>
<p>An HTTP client MUST ignore the values of <code>Uri::getPath()</code> and <code>Uri::getQuery()</code>,
and instead use the value returned by <code>getRequestTarget()</code>, which defaults
to concatenating these two values.</p>
<p>Clients that choose to not implement 1 or more of the 4 request-target forms,
MUST still use <code>getRequestTarget()</code>. These clients MUST reject request-targets
they do not support, and MUST NOT fall back on the values from <code>getUri()</code>.</p>
<p><code>RequestInterface</code> provides methods for retrieving the request-target or
creating a new instance with the provided request-target. By default, if no
request-target is specifically composed in the instance, <code>getRequestTarget()</code>
will return the origin-form of the composed URI (or &quot;/&quot; if no URI is composed).
<code>withRequestTarget($requestTarget)</code> creates a new instance with the
specified request target, and thus allows developers to create request messages
that represent the other three request-target forms (absolute-form,
authority-form, and asterisk-form). When used, the composed URI instance can
still be of use, particularly in clients, where it may be used to create the
connection to the server.</p>
<h3 id="15-server-side-requests">1.5 Server-side Requests</h3>
<p><code>RequestInterface</code> provides the general representation of an HTTP request
message. However, server-side requests need additional treatment, due to the
nature of the server-side environment. Server-side processing needs to take into
account Common Gateway Interface (CGI), and, more specifically, PHP&apos;s
abstraction and extension of CGI via its Server APIs (SAPI). PHP has provided
simplification around input marshaling via superglobals such as:</p>
<ul>
<li><code>$_COOKIE</code>, which deserializes and provides simplified access for HTTP
cookies.</li>
<li><code>$_GET</code>, which deserializes and provides simplified access for query string
arguments.</li>
<li><code>$_POST</code>, which deserializes and provides simplified access for urlencoded
parameters submitted via HTTP POST; generically, it can be considered the
results of parsing the message body.</li>
<li><code>$_FILES</code>, which provides serialized metadata around file uploads.</li>
<li><code>$_SERVER</code>, which provides access to CGI/SAPI environment variables, which
commonly include the request method, the request scheme, the request URI, and
headers.</li>
</ul>
<p><code>ServerRequestInterface</code> extends <code>RequestInterface</code> to provide an abstraction
around these various superglobals. This practice helps reduce coupling to the
superglobals by consumers, and encourages and promotes the ability to test
request consumers.</p>
<p>The server request provides one additional property, &quot;attributes&quot;, to allow
consumers the ability to introspect, decompose, and match the request against
application-specific rules (such as path matching, scheme matching, host
matching, etc.). As such, the server request can also provide messaging between
multiple request consumers.</p>
<h3 id="16-uploaded-files">1.6 Uploaded files</h3>
<p><code>ServerRequestInterface</code> specifies a method for retrieving a tree of upload
files in a normalized structure, with each leaf an instance of
<code>UploadedFileInterface</code>.</p>
<p>The <code>$_FILES</code> superglobal has some well-known problems when dealing with arrays
of file inputs. As an example, if you have a form that submits an array of files
&#x2014; e.g., the input name &quot;files&quot;, submitting <code>files[0]</code> and <code>files[1]</code> &#x2014; PHP will
represent this as:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;files&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&apos;name&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;file0.txt&apos;</span>,
            <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;file1.html&apos;</span>,
        ),
        <span class="hljs-string">&apos;type&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;text/plain&apos;</span>,
            <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;text/html&apos;</span>,
        ),
        <span class="hljs-comment">/* etc. */</span>
    ),
)
</code></pre>
<p>instead of the expected:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;files&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-number">0</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&apos;name&apos;</span> =&gt; <span class="hljs-string">&apos;file0.txt&apos;</span>,
            <span class="hljs-string">&apos;type&apos;</span> =&gt; <span class="hljs-string">&apos;text/plain&apos;</span>,
            <span class="hljs-comment">/* etc. */</span>
        ),
        <span class="hljs-number">1</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&apos;name&apos;</span> =&gt; <span class="hljs-string">&apos;file1.html&apos;</span>,
            <span class="hljs-string">&apos;type&apos;</span> =&gt; <span class="hljs-string">&apos;text/html&apos;</span>,
            <span class="hljs-comment">/* etc. */</span>
        ),
    ),
)
</code></pre>
<p>The result is that consumers need to know this language implementation detail,
and write code for gathering the data for a given upload.</p>
<p>Additionally, scenarios exist where <code>$_FILES</code> is not populated when file uploads
occur:</p>
<ul>
<li>When the HTTP method is not <code>POST</code>.</li>
<li>When unit testing.</li>
<li>When operating under a non-SAPI environment, such as <a href="http://reactphp.org" target="_blank">ReactPHP</a>.</li>
</ul>
<p>In such cases, the data will need to be seeded differently. As examples:</p>
<ul>
<li>A process might parse the message body to discover the file uploads. In such
cases, the implementation may choose <em>not</em> to write the file uploads to the
file system, but instead wrap them in a stream in order to reduce memory,
I/O, and storage overhead.</li>
<li>In unit testing scenarios, developers need to be able to stub and/or mock the
file upload metadata in order to validate and verify different scenarios.</li>
</ul>
<p><code>getUploadedFiles()</code> provides the normalized structure for consumers.
Implementations are expected to:</p>
<ul>
<li>Aggregate all information for a given file upload, and use it to populate a
<code>Psr\Http\Message\UploadedFileInterface</code> instance.</li>
<li>Re-create the submitted tree structure, with each leaf being the appropriate
<code>Psr\Http\Message\UploadedFileInterface</code> instance for the given location in
the tree.</li>
</ul>
<p>The tree structure referenced should mimic the naming structure in which files
were submitted.</p>
<p>In the simplest example, this might be a single named form element submitted as:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;avatar&quot;</span> /&gt;</span>
</code></pre>
<p>In this case, the structure in <code>$_FILES</code> would look like:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;avatar&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&apos;tmp_name&apos;</span> =&gt; <span class="hljs-string">&apos;phpUxcOty&apos;</span>,
        <span class="hljs-string">&apos;name&apos;</span> =&gt; <span class="hljs-string">&apos;my-avatar.png&apos;</span>,
        <span class="hljs-string">&apos;size&apos;</span> =&gt; <span class="hljs-number">90996</span>,
        <span class="hljs-string">&apos;type&apos;</span> =&gt; <span class="hljs-string">&apos;image/png&apos;</span>,
        <span class="hljs-string">&apos;error&apos;</span> =&gt; <span class="hljs-number">0</span>,
    ),
)
</code></pre>
<p>The normalized form returned by <code>getUploadedFiles()</code> would be:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;avatar&apos;</span> =&gt; <span class="hljs-comment">/* UploadedFileInterface instance */</span>
)
</code></pre>
<p>In the case of an input using array notation for the name:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;my-form[details][avatar]&quot;</span> /&gt;</span>
</code></pre>
<p><code>$_FILES</code> ends up looking like this:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;my-form&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&apos;details&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&apos;avatar&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                <span class="hljs-string">&apos;tmp_name&apos;</span> =&gt; <span class="hljs-string">&apos;phpUxcOty&apos;</span>,
                <span class="hljs-string">&apos;name&apos;</span> =&gt; <span class="hljs-string">&apos;my-avatar.png&apos;</span>,
                <span class="hljs-string">&apos;size&apos;</span> =&gt; <span class="hljs-number">90996</span>,
                <span class="hljs-string">&apos;type&apos;</span> =&gt; <span class="hljs-string">&apos;image/png&apos;</span>,
                <span class="hljs-string">&apos;error&apos;</span> =&gt; <span class="hljs-number">0</span>,
            ),
        ),
    ),
)
</code></pre>
<p>And the corresponding tree returned by <code>getUploadedFiles()</code> should be:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;my-form&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&apos;details&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&apos;avatar&apos;</span> =&gt; <span class="hljs-comment">/* UploadedFileInterface instance */</span>
        ),
    ),
)
</code></pre>
<p>In some cases, you may specify an array of files:</p>
<pre><code class="lang-html">Upload an avatar: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;my-form[details][avatars][]&quot;</span> /&gt;</span>
Upload an avatar: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;my-form[details][avatars][]&quot;</span> /&gt;</span>
</code></pre>
<p>(As an example, JavaScript controls might spawn additional file upload inputs to
allow uploading multiple files at once.)</p>
<p>In such a case, the specification implementation must aggregate all information
related to the file at the given index. The reason is because <code>$_FILES</code> deviates
from its normal structure in such cases:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;my-form&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&apos;details&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&apos;avatars&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                <span class="hljs-string">&apos;tmp_name&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                    <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">2</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                ),
                <span class="hljs-string">&apos;name&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                    <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">2</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                ),
                <span class="hljs-string">&apos;size&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                    <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">2</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                ),
                <span class="hljs-string">&apos;type&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                    <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">2</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                ),
                <span class="hljs-string">&apos;error&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                    <span class="hljs-number">0</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">1</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                    <span class="hljs-number">2</span> =&gt; <span class="hljs-string">&apos;...&apos;</span>,
                ),
            ),
        ),
    ),
)
</code></pre>
<p>The above <code>$_FILES</code> array would correspond to the following structure as
returned by <code>getUploadedFiles()</code>:</p>
<pre><code class="lang-php"><span class="hljs-keyword">array</span>(
    <span class="hljs-string">&apos;my-form&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
        <span class="hljs-string">&apos;details&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
            <span class="hljs-string">&apos;avatars&apos;</span> =&gt; <span class="hljs-keyword">array</span>(
                <span class="hljs-number">0</span> =&gt; <span class="hljs-comment">/* UploadedFileInterface instance */</span>,
                <span class="hljs-number">1</span> =&gt; <span class="hljs-comment">/* UploadedFileInterface instance */</span>,
                <span class="hljs-number">2</span> =&gt; <span class="hljs-comment">/* UploadedFileInterface instance */</span>,
            ),
        ),
    ),
)
</code></pre>
<p>Consumers would access index <code>1</code> of the nested array using:</p>
<pre><code class="lang-php">$request-&gt;getUploadedFiles()[<span class="hljs-string">&apos;my-form&apos;</span>][<span class="hljs-string">&apos;details&apos;</span>][<span class="hljs-string">&apos;avatars&apos;</span>][<span class="hljs-number">1</span>];
</code></pre>
<p>Because the uploaded files data is derivative (derived from <code>$_FILES</code> or the
request body), a mutator method, <code>withUploadedFiles()</code>, is also present in the
interface, allowing delegation of the normalization to another process.</p>
<p>In the case of the original examples, consumption resembles the following:</p>
<pre><code class="lang-php">$file0 = $request-&gt;getUploadedFiles()[<span class="hljs-string">&apos;files&apos;</span>][<span class="hljs-number">0</span>];
$file1 = $request-&gt;getUploadedFiles()[<span class="hljs-string">&apos;files&apos;</span>][<span class="hljs-number">1</span>];

printf(
    <span class="hljs-string">&quot;Received the files %s and %s&quot;</span>,
    $file0-&gt;getClientFilename(),
    $file1-&gt;getClientFilename()
);

<span class="hljs-comment">// &quot;Received the files file0.txt and file1.html&quot;</span>
</code></pre>
<p>This proposal also recognizes that implementations may operate in non-SAPI
environments. As such, <code>UploadedFileInterface</code> provides methods for ensuring
operations will work regardless of environment. In particular:</p>
<ul>
<li><code>moveTo($targetPath)</code> is provided as a safe and recommended alternative to calling
<code>move_uploaded_file()</code> directly on the temporary upload file. Implementations
will detect the correct operation to use based on environment.</li>
<li><code>getStream()</code> will return a <code>StreamInterface</code> instance. In non-SAPI
environments, one proposed possibility is to parse individual upload files
into <code>php://temp</code> streams instead of directly to files; in such cases, no
upload file is present. <code>getStream()</code> is therefore guaranteed to work
regardless of environment.</li>
</ul>
<p>As examples:</p>
<pre><code>// Move a file to an upload directory
$filename = sprintf(
    &apos;%s.%s&apos;,
    create_uuid(),
    pathinfo($file0-&gt;getClientFilename(), PATHINFO_EXTENSION)
);
$file0-&gt;moveTo(DATA_DIR . &apos;/&apos; . $filename);

// Stream a file to Amazon S3.
// Assume $s3wrapper is a PHP stream that will write to S3, and that
// Psr7StreamWrapper is a class that will decorate a StreamInterface as a PHP
// StreamWrapper.
$stream = new Psr7StreamWrapper($file1-&gt;getStream());
stream_copy_to_stream($stream, $s3wrapper);
</code></pre><h2 id="2-package">2. Package</h2>
<p>&#x4E0A;&#x9762;&#x8BA8;&#x8BBA;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x7C7B;&#x5E93;&#x5DF2;&#x7ECF;&#x6574;&#x5408;&#x6210;&#x4E3A;&#x6269;&#x5C55;&#x5305;&#xFF1A;
<a href="https://packagist.org/packages/psr/http-message" target="_blank">psr/http-message</a>&#x3002;</p>
<h2 id="3-interfaces">3. Interfaces</h2>
<h3 id="31-psrhttpmessagemessageinterface">3.1 <code>Psr\Http\Message\MessageInterface</code></h3>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Message</span>;

<span class="hljs-comment">/**
 * 
 * HTTP &#x6D88;&#x606F;&#x503C;&#x5F97;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x8D77;&#x7684;&#x300C;&#x8BF7;&#x6C42;&#x300D;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x300C;&#x54CD;&#x5E94;&#x300D;&#xFF0C;&#x6B64;&#x63A5;&#x53E3;
 * &#x5B9A;&#x4E49;&#x4E86;&#x4ED6;&#x4EEC;&#x901A;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;
 * 
 * HTTP &#x6D88;&#x606F;&#x662F;&#x88AB;&#x89C6;&#x4E3A;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x80FD;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90FD; **&#x5FC5;&#x987B;** &#x6709;&#x4E00;&#x5957;
 * &#x673A;&#x5236;&#xFF0C;&#x5728;&#x5185;&#x90E8;&#x4FDD;&#x6301;&#x597D;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x540E;&#x7684;&#x4FE1;&#x606F;&#x8FD4;&#x56DE;&#x3002;
 *
 * <span class="hljs-doctag">@see</span> http://www.ietf.org/rfc/rfc7230.txt
 * <span class="hljs-doctag">@see</span> http://www.ietf.org/rfc/rfc7231.txt
 */</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MessageInterface</span>
</span>{
    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#x7684; HTTP &#x534F;&#x8BAE;&#x7248;&#x672C;&#x4FE1;&#x606F;
     *
     * &#x5B57;&#x7B26;&#x4E32;&#x5FC5;&#x987B;&#x5305;&#x542B; HTTP &#x7248;&#x672C;&#x6570;&#x5B57;&#xFF0C;&#x5982;&#xFF1A;&quot;1.1&quot;, &quot;1.0&quot;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> string HTTP &#x534F;&#x8BAE;&#x7248;&#x672C;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getProtocolVersion</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x6307;&#x5B9A; HTTP &#x7248;&#x672C;&#x53F7;&#x7684;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x4F20;&#x53C2;&#x7684;&#x7248;&#x672C;&#x53F7;&#x5FC5;&#x987B; **&#x53EA;** &#x5305;&#x542B; HTTP &#x7248;&#x672C;&#x6570;&#x5B57;&#xFF0C;&#x5982;&#xFF1A;&quot;1.1&quot;, &quot;1.0&quot;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5E26;&#x6709;&#x4F20;&#x53C2;&#x8FDB;&#x53BB;&#x7684; HTTP &#x7248;&#x672C;&#x7684;&#x5B9E;&#x4F8B;
     *
     * <span class="hljs-doctag">@param</span> string $version HTTP &#x7248;&#x672C;&#x4FE1;&#x606F;
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withProtocolVersion</span><span class="hljs-params">($version)</span></span>;

    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;&#x5934;&#x4FE1;&#x606F;
     *
     * &#x8FD4;&#x56DE;&#x7684;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;&#x4E2D;&#xFF0C;&#x7B2C;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x7684;&#x300C;&#x952E;&#x300D;&#x4EE3;&#x8868;&#x5355;&#x6761;&#x5934;&#x4FE1;&#x606F;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x300C;&#x503C;&#x300D;&#x662F;
     * &#x4EE5;&#x6570;&#x636E;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x7684;&#xFF0C;&#x89C1;&#x4EE5;&#x4E0B;&#x5B9E;&#x4F8B;&#xFF1A;
     *
     *     // &#x628A;&#x300C;&#x503C;&#x300D;&#x7684;&#x6570;&#x636E;&#x5F53;&#x6210;&#x5B57;&#x4E32;&#x6253;&#x5370;&#x51FA;&#x6765;
     *     foreach ($message-&gt;getHeaders() as $name =&gt; $values) {
     *         echo $name . &apos;: &apos; . implode(&apos;, &apos;, $values);
     *     }
     *
     *     // &#x8FED;&#x4EE3;&#x7684;&#x5FAA;&#x73AF;&#x4E8C;&#x7EF4;&#x6570;&#x7EC4;
     *     foreach ($message-&gt;getHeaders() as $name =&gt; $values) {
     *         foreach ($values as $value) {
     *             header(sprintf(&apos;%s: %s&apos;, $name, $value), false);
     *         }
     *     }
     *
     * &#x867D;&#x7136;&#x5934;&#x4FE1;&#x606F;&#x662F;&#x6CA1;&#x6709;&#x5927;&#x5C0F;&#x5199;&#x4E4B;&#x5206;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528; `getHeaders()` &#x4F1A;&#x8FD4;&#x56DE;&#x4FDD;&#x7559;&#x4E86;&#x539F;&#x672C;
     * &#x5927;&#x5C0F;&#x5199;&#x5F62;&#x5F0F;&#x7684;&#x5185;&#x5BB9;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> string[][] &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x4E24;&#x7EF4;&#x6570;&#x7EC4;&#xFF0C;&#x7B2C;&#x4E00;&#x7EF4;&#x6570;&#x7EC4;&#x7684;&#x300C;&#x952E;&#x300D; **&#x5FC5;&#x987B;** &#x4E3A;&#x5355;&#x6761;&#x5934;&#x4FE1;&#x606F;&#x7684;
     *     &#x540D;&#x79F0;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x662F;&#x7531;&#x5B57;&#x4E32;&#x7EC4;&#x6210;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x300C;&#x503C;&#x300D; **&#x5FC5;&#x987B;** &#x662F;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x7684;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHeaders</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x68C0;&#x67E5;&#x662F;&#x5426;&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#x5305;&#x542B;&#x6709;&#x6B64;&#x540D;&#x79F0;&#x7684;&#x503C;&#xFF0C;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;
     *
     * <span class="hljs-doctag">@param</span> string $name &#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5934;&#x4FE1;&#x606F;&#x540D;&#x79F0;
     * <span class="hljs-doctag">@return</span> bool &#x627E;&#x5230;&#x8FD4;&#x56DE; true&#xFF0C;&#x672A;&#x627E;&#x5230;&#x8FD4;&#x56DE; false
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasHeader</span><span class="hljs-params">($name)</span></span>;

    <span class="hljs-comment">/**
     * &#x6839;&#x636E;&#x7ED9;&#x5B9A;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x83B7;&#x53D6;&#x4E00;&#x6761;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x4EE5;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x4EE5;&#x6570;&#x7EC4;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x540D;&#x79F0;&#x7684;&#x5934;&#x4FE1;&#x606F;&#x3002;
     *
     * &#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x5934;&#x4FE1;&#x606F;&#xFF0C;**&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x6570;&#x7EC4;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> string $name &#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5934;&#x90E8;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x3002;
     * <span class="hljs-doctag">@return</span> string[] &#x8FD4;&#x56DE;&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#xFF0C;&#x5BF9;&#x5E94;&#x540D;&#x79F0;&#x7684;&#xFF0C;&#x7531;&#x5B57;&#x7B26;&#x4E32;&#x7EC4;&#x6210;&#x7684;&#x6570;&#x7EC4;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;
     *     &#x7684;&#x5185;&#x5BB9;&#xFF0C;**&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x7A7A;&#x6570;&#x7EC4;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHeader</span><span class="hljs-params">($name)</span></span>;

    <span class="hljs-comment">/**
     * &#x6839;&#x636E;&#x7ED9;&#x5B9A;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x83B7;&#x53D6;&#x4E00;&#x6761;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;
     * 
     * &#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4F7F;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x65B9;&#x6CD5;&#x62FC;&#x63A5;&#x8D77;&#x6765;&#x3002;
     *
     * &#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5934;&#x4FE1;&#x606F;&#x90FD;&#x53EF;&#x4F7F;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x62FC;&#x63A5;&#xFF0C;&#x5BF9;&#x4E8E;&#x90A3;&#x4E9B;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528;
     * `getHeader()` &#x65B9;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x3002;
     * 
     * &#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5; **&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> string $name &#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5934;&#x90E8;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x3002;
     * <span class="hljs-doctag">@return</span> string &#x8FD4;&#x56DE;&#x5934;&#x4FE1;&#x606F;&#x4E2D;&#xFF0C;&#x5BF9;&#x5E94;&#x540D;&#x79F0;&#x7684;&#xFF0C;&#x7531;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7EC4;&#x6210;&#x7684;&#x5B57;&#x4E32;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5BF9;&#x5E94;
     *     &#x7684;&#x5185;&#x5BB9;&#xFF0C;**&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHeaderLine</span><span class="hljs-params">($name)</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x5934;&#x4FE1;&#x606F;&#x300C;&#x952E;/&#x503C;&#x300D;&#x5BF9;&#x7684;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x867D;&#x7136;&#x5934;&#x4FE1;&#x606F;&#x662F;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x6B64;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x4FDD;&#x7559;&#x5176;&#x4F20;&#x53C2;&#x65F6;&#x7684;&#x5927;&#x5C0F;&#x5199;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x80FD;&#x591F;&#x5728;
     * &#x8C03;&#x7528; `getHeaders()` &#x7684;&#x65F6;&#x5019;&#x88AB;&#x53D6;&#x51FA;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5E26;&#x6709;&#x4F20;&#x53C2;&#x8FDB;&#x53BB;&#x5934;&#x4FE1;&#x606F;&#x7684;&#x5B9E;&#x4F8B;
     *
     * <span class="hljs-doctag">@param</span> string $name Case-insensitive header field name.
     * <span class="hljs-doctag">@param</span> string|string[] $value Header value(s).
     * <span class="hljs-doctag">@return</span> self
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException for invalid header names or values.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withHeader</span><span class="hljs-params">($name, $value)</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5934;&#x4FE1;&#x606F;&#x589E;&#x91CF;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x539F;&#x6709;&#x7684;&#x5934;&#x4FE1;&#x606F;&#x4F1A;&#x88AB;&#x4FDD;&#x7559;&#xFF0C;&#x65B0;&#x7684;&#x503C;&#x4F1A;&#x4F5C;&#x4E3A;&#x589E;&#x91CF;&#x52A0;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x5934;&#x4FE1;&#x606F;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x8BDD;&#xFF0C;&#x4F1A;&#x88AB;&#x52A0;&#x4E0A;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> string $name &#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5934;&#x90E8;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x3002;
     * <span class="hljs-doctag">@param</span> string|string[] $value &#x5934;&#x4FE1;&#x606F;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002;
     * <span class="hljs-doctag">@return</span> self
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException &#x5934;&#x4FE1;&#x606F;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x975E;&#x6CD5;&#x65F6;&#x4F1A;&#x88AB;&#x629B;&#x51FA;&#x3002;
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException &#x5934;&#x4FE1;&#x606F;&#x7684;&#x503C;&#x975E;&#x6CD5;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x88AB;&#x629B;&#x51FA;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withAddedHeader</span><span class="hljs-params">($name, $value)</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x88AB;&#x79FB;&#x9664;&#x6389;&#x6307;&#x5B9A;&#x5934;&#x4FE1;&#x606F;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x5934;&#x4FE1;&#x606F;&#x5B57;&#x6BB5;&#x5728;&#x89E3;&#x6790;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x8BC1;&#x662F;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> string $name &#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x5934;&#x90E8;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x3002;
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withoutHeader</span><span class="hljs-params">($name)</span></span>;

    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6; HTTP &#x6D88;&#x606F;&#x7684;&#x5185;&#x5BB9;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> StreamInterface &#x4EE5;&#x6570;&#x636E;&#x6D41;&#x7684;&#x5F62;&#x5F0F;&#x8FD4;&#x56DE;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBody</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x62FC;&#x63A5;&#x4E86;&#x5185;&#x5BB9;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x5185;&#x5BB9; **&#x5FC5;&#x987B;** &#x662F; StreamInterface &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> StreamInterface $body &#x6570;&#x636E;&#x6D41;&#x5F62;&#x5F0F;&#x7684;&#x5185;&#x5BB9;&#x3002;
     * <span class="hljs-doctag">@return</span> self
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException &#x5F53;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#x65F6;&#x5019;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withBody</span><span class="hljs-params">(StreamInterface $body)</span></span>;
}
</code></pre>
<h3 id="32-psrhttpmessagerequestinterface">3.2 <code>Psr\Http\Message\RequestInterface</code></h3>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Message</span>;

<span class="hljs-comment">/**
 * &#x4EE3;&#x8868;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7684; HTTP &#x6D88;&#x606F;&#x5BF9;&#x8C61;&#x3002;
 *
 * &#x6839;&#x636E;&#x89C4;&#x8303;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A; HTTP &#x8BF7;&#x6C42;&#x90FD;&#x5305;&#x542B;&#x4EE5;&#x4E0B;&#x4FE1;&#x606F;&#xFF1A;
 *
 * - HTTP &#x534F;&#x8BAE;&#x7248;&#x672C;&#x53F7; (Protocol version)
 * - HTTP &#x8BF7;&#x6C42;&#x65B9;&#x6CD5; (HTTP method)
 * - URI
 * - &#x5934;&#x4FE1;&#x606F; (Headers)
 * - &#x6D88;&#x606F;&#x5185;&#x5BB9; (Message body)
 *
 * &#x5728;&#x6784;&#x9020; HTTP &#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5B9E;&#x73B0;&#x7C7B;&#x5E93; **&#x5FC5;&#x987B;** &#x4ECE;&#x7ED9;&#x51FA;&#x7684; URI &#x4E2D;&#x53BB;&#x63D0;&#x53D6; HOST &#x4FE1;&#x606F;&#x3002;
 *
 * HTTP &#x8BF7;&#x6C42;&#x662F;&#x88AB;&#x89C6;&#x4E3A;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x80FD;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90FD; **&#x5FC5;&#x987B;** &#x6709;&#x4E00;&#x5957;&#x673A;&#x5236;&#xFF0C;&#x5728;&#x5185;&#x90E8;&#x4FDD;
 * &#x6301;&#x597D;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x540E;&#x7684;&#xFF0C;&#x65B0;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#x8FD4;&#x56DE;&#x3002;
 */</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">RequestInterface</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MessageInterface</span>
</span>{
    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x6D88;&#x606F;&#x8BF7;&#x6C42;&#x7684;&#x76EE;&#x6807;&#x3002;
     *
     * &#x5728;&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5;&#x4F1A;&#x8FD4;&#x56DE;&#x5B8C;&#x6574;&#x7684; URI&#xFF0C;&#x9664;&#x975E; `withRequestTarget()` &#x88AB;&#x8BBE;&#x7F6E;&#x8FC7;&#x3002;
     *
     * &#x5982;&#x679C;&#x6CA1;&#x6709;&#x63D0;&#x4F9B; URI&#xFF0C;&#x5E76;&#x4E14;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x4EFB;&#x4F55;&#x7684;&#x8BF7;&#x6C42;&#x76EE;&#x6807;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5; **&#x5FC5;&#x987B;** &#x8FD4;&#x56DE; &quot;/&quot;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRequestTarget</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x76EE;&#x6807;&#x7684;&#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> &#x5173;&#x4E8E;&#x8BF7;&#x6C42;&#x76EE;&#x6807;&#x7684;&#x5404;&#x79CD;&#x5141;&#x8BB8;&#x7684;&#x683C;&#x5F0F;&#xFF0C;&#x8BF7;&#x89C1; http://tools.ietf.org/html/rfc7230#section-2.7 
     * 
     * <span class="hljs-doctag">@param</span> mixed $requestTarget
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withRequestTarget</span><span class="hljs-params">($requestTarget)</span></span>;

    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x4F7F;&#x7528;&#x7684; HTTP &#x65B9;&#x6CD5;
     *
     * <span class="hljs-doctag">@return</span> string HTTP &#x65B9;&#x6CD5;&#x5B57;&#x7B26;&#x4E32;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMethod</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x66F4;&#x6539;&#x4E86;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x7684;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x867D;&#x7136;&#xFF0C;&#x5728;&#x5927;&#x90E8;&#x5206;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;HTTP &#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x5927;&#x5199;&#x5B57;&#x6BCD;&#x6765;&#x6807;&#x793A;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5B9E;&#x73B0;&#x7C7B;&#x5E93; **&#x4E00;&#x5B9A;&#x4E0D;&#x53EF;**
     * &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4F20;&#x53C2;&#x7684;&#x5927;&#x5C0F;&#x683C;&#x5F0F;&#x3002;
     * 
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> string $method &#x5927;&#x5C0F;&#x5199;&#x654F;&#x611F;&#x7684;&#x65B9;&#x6CD5;&#x540D;
     * <span class="hljs-doctag">@return</span> self
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException &#x5F53;&#x975E;&#x6CD5;&#x7684; HTTP &#x65B9;&#x6CD5;&#x540D;&#x4F20;&#x5165;&#x65F6;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withMethod</span><span class="hljs-params">($method)</span></span>;

    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6; URI &#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x8FD4;&#x56DE; `UriInterface` &#x7684; URI &#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> http://tools.ietf.org/html/rfc3986#section-4.3
     * <span class="hljs-doctag">@return</span> UriInterface &#x8FD4;&#x56DE;&#x4E0E;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x76F8;&#x5173; `UriInterface` &#x7C7B;&#x578B;&#x7684; URI &#x5B9E;&#x4F8B;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUri</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE;&#x4FEE;&#x6539;&#x4E86; URI &#x7684;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * &#x5F53;&#x4F20;&#x5165;&#x7684; `URI` &#x5305;&#x542B;&#x6709; `HOST` &#x4FE1;&#x606F;&#x65F6;&#xFF0C;**&#x5FC5;&#x987B;** &#x66F4;&#x65B0; `HOST` &#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C; `URI` 
     * &#x5B9E;&#x4F8B;&#x6CA1;&#x6709;&#x9644;&#x5E26; `HOST` &#x4FE1;&#x606F;&#xFF0C;&#x4EFB;&#x4F55;&#x4E4B;&#x524D;&#x5B58;&#x5728;&#x7684; `HOST` &#x4FE1;&#x606F; **&#x5FC5;&#x987B;** &#x4F5C;&#x4E3A;&#x5019;&#x8865;&#xFF0C;&#x5E94;&#x7528;
     * &#x66F4;&#x6539;&#x5230;&#x8FD4;&#x56DE;&#x7684;&#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x91CC;&#x3002;
     * 
     * &#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F20;&#x5165;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x6765;&#xFF0C;&#x6765;&#x5E72;&#x9884;&#x65B9;&#x6CD5;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x5F53; `$preserveHost` &#x8BBE;&#x7F6E;&#x4E3A; `true` 
     * &#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x4FDD;&#x7559;&#x539F;&#x6765;&#x7684; `HOST` &#x4FE1;&#x606F;&#x3002;
     * 
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> http://tools.ietf.org/html/rfc3986#section-4.3
     * <span class="hljs-doctag">@param</span> UriInterface $uri `UriInterface` &#x7C7B;&#x578B;&#x7684; URI &#x5B9E;&#x4F8B;
     * <span class="hljs-doctag">@param</span> bool $preserveHost &#x662F;&#x5426;&#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684; HOST &#x5934;&#x4FE1;&#x606F;
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withUri</span><span class="hljs-params">(UriInterface $uri, $preserveHost = false)</span></span>;
}
</code></pre>
<h4 id="321-psrhttpmessageserverrequestinterface">3.2.1 <code>Psr\Http\Message\ServerRequestInterface</code></h4>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Message</span>;

<span class="hljs-comment">/**
 * Representation of an incoming, server-side HTTP request.
 *
 * Per the HTTP specification, this interface includes properties for
 * each of the following:
 *
 * - Protocol version
 * - HTTP method
 * - URI
 * - Headers
 * - Message body
 *
 * Additionally, it encapsulates all data as it has arrived to the
 * application from the CGI and/or PHP environment, including:
 *
 * - The values represented in $_SERVER.
 * - Any cookies provided (generally via $_COOKIE)
 * - Query string arguments (generally via $_GET, or as parsed via parse_str())
 * - Upload files, if any (as represented by $_FILES)
 * - Deserialized body parameters (generally from $_POST)
 *
 * $_SERVER values MUST be treated as immutable, as they represent application
 * state at the time of request; as such, no methods are provided to allow
 * modification of those values. The other values provide such methods, as they
 * can be restored from $_SERVER or the request body, and may need treatment
 * during the application (e.g., body parameters may be deserialized based on
 * content type).
 *
 * Additionally, this interface recognizes the utility of introspecting a
 * request to derive and match additional parameters (e.g., via URI path
 * matching, decrypting cookie values, deserializing non-form-encoded body
 * content, matching authorization headers to users, etc). These parameters
 * are stored in an &quot;attributes&quot; property.
 *
 * HTTP &#x8BF7;&#x6C42;&#x662F;&#x88AB;&#x89C6;&#x4E3A;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x80FD;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90FD; **&#x5FC5;&#x987B;** &#x6709;&#x4E00;&#x5957;&#x673A;&#x5236;&#xFF0C;&#x5728;&#x5185;&#x90E8;&#x4FDD;
 * &#x6301;&#x597D;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x540E;&#x7684;&#xFF0C;&#x65B0;&#x7684; HTTP &#x8BF7;&#x6C42;&#x5B9E;&#x4F8B;&#x8FD4;&#x56DE;&#x3002;
 */</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ServerRequestInterface</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">RequestInterface</span>
</span>{
    <span class="hljs-comment">/**
     * Retrieve server parameters.
     *
     * Retrieves data related to the incoming request environment,
     * typically derived from PHP&apos;s $_SERVER superglobal. The data IS NOT
     * REQUIRED to originate from $_SERVER.
     *
     * <span class="hljs-doctag">@return</span> array
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getServerParams</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Retrieve cookies.
     *
     * Retrieves cookies sent by the client to the server.
     *
     * The data MUST be compatible with the structure of the $_COOKIE
     * superglobal.
     *
     * <span class="hljs-doctag">@return</span> array
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCookieParams</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified cookies.
     *
     * The data IS NOT REQUIRED to come from the $_COOKIE superglobal, but MUST
     * be compatible with the structure of $_COOKIE. Typically, this data will
     * be injected at instantiation.
     *
     * This method MUST NOT update the related Cookie header of the request
     * instance, nor related values in the server params.
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     * 
     * <span class="hljs-doctag">@param</span> array $cookies Array of key/value pairs representing cookies.
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withCookieParams</span><span class="hljs-params">(array $cookies)</span></span>;

    <span class="hljs-comment">/**
     * Retrieve query string arguments.
     *
     * Retrieves the deserialized query string arguments, if any.
     *
     * <span class="hljs-doctag">Note:</span> the query params might not be in sync with the URI or server
     * params. If you need to ensure you are only getting the original
     * values, you may need to parse the query string from `getUri()-&gt;getQuery()`
     * or from the `QUERY_STRING` server param.
     *
     * <span class="hljs-doctag">@return</span> array
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getQueryParams</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified query string arguments.
     *
     * These values SHOULD remain immutable over the course of the incoming
     * request. They MAY be injected during instantiation, such as from PHP&apos;s
     * $_GET superglobal, or MAY be derived from some other value such as the
     * URI. In cases where the arguments are parsed from the URI, the data
     * MUST be compatible with what PHP&apos;s parse_str() would return for
     * purposes of how duplicate query parameters are handled, and how nested
     * sets are handled.
     *
     * Setting query string arguments MUST NOT change the URI stored by the
     * request, nor the values in the server params.
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> array $query Array of query string arguments, typically from
     *     $_GET.
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withQueryParams</span><span class="hljs-params">(array $query)</span></span>;

    <span class="hljs-comment">/**
     * Retrieve normalized file upload data.
     *
     * This method returns upload metadata in a normalized tree, with each leaf
     * an instance of Psr\Http\Message\UploadedFileInterface.
     *
     * These values MAY be prepared from $_FILES or the message body during
     * instantiation, or MAY be injected via withUploadedFiles().
     *
     * <span class="hljs-doctag">@return</span> array An array tree of UploadedFileInterface instances; an empty
     *     array MUST be returned if no data is present.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUploadedFiles</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Create a new instance with the specified uploaded files.
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> array An array tree of UploadedFileInterface instances.
     * <span class="hljs-doctag">@return</span> self
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException if an invalid structure is provided.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withUploadedFiles</span><span class="hljs-params">(array $uploadedFiles)</span></span>;

    <span class="hljs-comment">/**
     * Retrieve any parameters provided in the request body.
     *
     * If the request Content-Type is either application/x-www-form-urlencoded
     * or multipart/form-data, and the request method is POST, this method MUST
     * return the contents of $_POST.
     *
     * Otherwise, this method may return any results of deserializing
     * the request body content; as parsing returns structured content, the
     * potential types MUST be arrays or objects only. A null value indicates
     * the absence of body content.
     *
     * <span class="hljs-doctag">@return</span> null|array|object The deserialized body parameters, if any.
     *     These will typically be an array or object.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParsedBody</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified body parameters.
     *
     * These MAY be injected during instantiation.
     *
     * If the request Content-Type is either application/x-www-form-urlencoded
     * or multipart/form-data, and the request method is POST, use this method
     * ONLY to inject the contents of $_POST.
     *
     * The data IS NOT REQUIRED to come from $_POST, but MUST be the results of
     * deserializing the request body content. Deserialization/parsing returns
     * structured data, and, as such, this method ONLY accepts arrays or objects,
     * or a null value if nothing was available to parse.
     *
     * As an example, if content negotiation determines that the request data
     * is a JSON payload, this method could be used to create a request
     * instance with the deserialized parameters.
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@param</span> null|array|object $data The deserialized body data. This will
     *     typically be in an array or object.
     * <span class="hljs-doctag">@return</span> self
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException if an unsupported argument type is
     *     provided.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withParsedBody</span><span class="hljs-params">($data)</span></span>;

    <span class="hljs-comment">/**
     * Retrieve attributes derived from the request.
     *
     * The request &quot;attributes&quot; may be used to allow injection of any
     * parameters derived from the request: e.g., the results of path
     * match operations; the results of decrypting cookies; the results of
     * deserializing non-form-encoded message bodies; etc. Attributes
     * will be application and request specific, and CAN be mutable.
     *
     * <span class="hljs-doctag">@return</span> mixed[] Attributes derived from the request.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAttributes</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Retrieve a single derived request attribute.
     *
     * Retrieves a single derived request attribute as described in
     * getAttributes(). If the attribute has not been previously set, returns
     * the default value as provided.
     *
     * This method obviates the need for a hasAttribute() method, as it allows
     * specifying a default value to return if the attribute is not found.
     *
     * <span class="hljs-doctag">@see</span> getAttributes()
     * <span class="hljs-doctag">@param</span> string $name The attribute name.
     * <span class="hljs-doctag">@param</span> mixed $default Default value to return if the attribute does not exist.
     * <span class="hljs-doctag">@return</span> mixed
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAttribute</span><span class="hljs-params">($name, $default = null)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified derived request attribute.
     *
     * This method allows setting a single derived request attribute as
     * described in getAttributes().
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> getAttributes()
     * <span class="hljs-doctag">@param</span> string $name The attribute name.
     * <span class="hljs-doctag">@param</span> mixed $value The value of the attribute.
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withAttribute</span><span class="hljs-params">($name, $value)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance that removes the specified derived request attribute.
     *
     * This method allows removing a single derived request attribute as
     * described in getAttributes().
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> getAttributes()
     * <span class="hljs-doctag">@param</span> string $name The attribute name.
     * <span class="hljs-doctag">@return</span> self
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withoutAttribute</span><span class="hljs-params">($name)</span></span>;
}
</code></pre>
<h3 id="33-psrhttpmessageresponseinterface">3.3 <code>Psr\Http\Message\ResponseInterface</code></h3>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Message</span>;

<span class="hljs-comment">/**
 * Representation of an outgoing, server-side response.
 *
 * Per the HTTP specification, this interface includes properties for
 * each of the following:
 *
 * - Protocol version
 * - Status code and reason phrase
 * - Headers
 * - Message body
 *
 * Responses are considered immutable; all methods that might change state MUST
 * be implemented such that they retain the internal state of the current
 * message and return an instance that contains the changed state.
 * 
 * HTTP &#x54CD;&#x5E94;&#x662F;&#x88AB;&#x89C6;&#x4E3A;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x80FD;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90FD; **&#x5FC5;&#x987B;** &#x6709;&#x4E00;&#x5957;&#x673A;&#x5236;&#xFF0C;&#x5728;&#x5185;&#x90E8;&#x4FDD;
 * &#x6301;&#x597D;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x540E;&#x7684;&#xFF0C;&#x65B0;&#x7684; HTTP &#x54CD;&#x5E94;&#x5B9E;&#x4F8B;&#x8FD4;&#x56DE;&#x3002;
 */</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">ResponseInterface</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">MessageInterface</span>
</span>{
    <span class="hljs-comment">/**
     * Gets the response status code.
     *
     * The status code is a 3-digit integer result code of the server&apos;s attempt
     * to understand and satisfy the request.
     *
     * <span class="hljs-doctag">@return</span> int Status code.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getStatusCode</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified status code and, optionally, reason phrase.
     *
     * If no reason phrase is specified, implementations MAY choose to default
     * to the RFC 7231 or IANA recommended reason phrase for the response&apos;s
     * status code.
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x5B9E;&#x73B0;&#x7684;&#x65F6;&#x5019;&#xFF0C;**&#x5FC5;&#x987B;** &#x4FDD;&#x7559;&#x539F;&#x6709;&#x7684;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;
     * &#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4FEE;&#x6539;&#x8FC7;&#x7684; HTTP &#x6D88;&#x606F;&#x5B9E;&#x4F8B;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> http://tools.ietf.org/html/rfc7231#section-6
     * <span class="hljs-doctag">@see</span> http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml
     * <span class="hljs-doctag">@param</span> int $code The 3-digit integer result code to set.
     * <span class="hljs-doctag">@param</span> string $reasonPhrase The reason phrase to use with the
     *     provided status code; if none is provided, implementations MAY
     *     use the defaults as suggested in the HTTP specification.
     * <span class="hljs-doctag">@return</span> self
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException For invalid status code arguments.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withStatus</span><span class="hljs-params">($code, $reasonPhrase = <span class="hljs-string">&apos;&apos;</span>)</span></span>;

    <span class="hljs-comment">/**
     * Gets the response reason phrase associated with the status code.
     *
     * Because a reason phrase is not a required element in a response
     * status line, the reason phrase value MAY be empty. Implementations MAY
     * choose to return the default RFC 7231 recommended reason phrase (or those
     * listed in the IANA HTTP Status Code Registry) for the response&apos;s
     * status code.
     *
     * <span class="hljs-doctag">@see</span> http://tools.ietf.org/html/rfc7231#section-6
     * <span class="hljs-doctag">@see</span> http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml
     * <span class="hljs-doctag">@return</span> string Reason phrase; must return an empty string if none present.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getReasonPhrase</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<h3 id="34-psrhttpmessagestreaminterface">3.4 <code>Psr\Http\Message\StreamInterface</code></h3>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Message</span>;

<span class="hljs-comment">/**
 * Describes a data stream.
 *
 * Typically, an instance will wrap a PHP stream; this interface provides
 * a wrapper around the most common operations, including serialization of
 * the entire stream to a string.
 */</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">StreamInterface</span>
</span>{
    <span class="hljs-comment">/**
     * Reads all data from the stream into a string, from the beginning to end.
     *
     * This method MUST attempt to seek to the beginning of the stream before
     * reading data and read the stream until the end is reached.
     *
     * Warning: This could attempt to load a large amount of data into memory.
     *
     * This method MUST NOT raise an exception in order to conform with PHP&apos;s
     * string casting operations.
     *
     * <span class="hljs-doctag">@see</span> http://php.net/manual/en/language.oop5.magic.php#object.tostring
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Closes the stream and any underlying resources.
     *
     * <span class="hljs-doctag">@return</span> void
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">close</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Separates any underlying resources from the stream.
     *
     * After the stream has been detached, the stream is in an unusable state.
     *
     * <span class="hljs-doctag">@return</span> resource|null Underlying PHP stream, if any
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">detach</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Get the size of the stream if known.
     *
     * <span class="hljs-doctag">@return</span> int|null Returns the size in bytes if known, or null if unknown.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSize</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Returns the current position of the file read/write pointer
     *
     * <span class="hljs-doctag">@return</span> int Position of the file pointer
     * <span class="hljs-doctag">@throws</span> \RuntimeException on error.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tell</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Returns true if the stream is at the end of the stream.
     *
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eof</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Returns whether or not the stream is seekable.
     *
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isSeekable</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Seek to a position in the stream.
     *
     * <span class="hljs-doctag">@see</span> http://www.php.net/manual/en/function.fseek.php
     * <span class="hljs-doctag">@param</span> int $offset Stream offset
     * <span class="hljs-doctag">@param</span> int $whence Specifies how the cursor position will be calculated
     *     based on the seek offset. Valid values are identical to the built-in
     *     PHP $whence values for `fseek()`.  SEEK_SET: Set position equal to
     *     offset bytes SEEK_CUR: Set position to current location plus offset
     *     SEEK_END: Set position to end-of-stream plus offset.
     * <span class="hljs-doctag">@throws</span> \RuntimeException on failure.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">seek</span><span class="hljs-params">($offset, $whence = SEEK_SET)</span></span>;

    <span class="hljs-comment">/**
     * Seek to the beginning of the stream.
     *
     * If the stream is not seekable, this method will raise an exception;
     * otherwise, it will perform a seek(0).
     *
     * <span class="hljs-doctag">@see</span> seek()
     * <span class="hljs-doctag">@see</span> http://www.php.net/manual/en/function.fseek.php
     * <span class="hljs-doctag">@throws</span> \RuntimeException on failure.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rewind</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Returns whether or not the stream is writable.
     *
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isWritable</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Write data to the stream.
     *
     * <span class="hljs-doctag">@param</span> string $string The string that is to be written.
     * <span class="hljs-doctag">@return</span> int Returns the number of bytes written to the stream.
     * <span class="hljs-doctag">@throws</span> \RuntimeException on failure.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">write</span><span class="hljs-params">($string)</span></span>;

    <span class="hljs-comment">/**
     * Returns whether or not the stream is readable.
     *
     * <span class="hljs-doctag">@return</span> bool
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isReadable</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Read data from the stream.
     *
     * <span class="hljs-doctag">@param</span> int $length Read up to $length bytes from the object and return
     *     them. Fewer than $length bytes may be returned if underlying stream
     *     call returns fewer bytes.
     * <span class="hljs-doctag">@return</span> string Returns the data read from the stream, or an empty string
     *     if no bytes are available.
     * <span class="hljs-doctag">@throws</span> \RuntimeException if an error occurs.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">read</span><span class="hljs-params">($length)</span></span>;

    <span class="hljs-comment">/**
     * Returns the remaining contents in a string
     *
     * <span class="hljs-doctag">@return</span> string
     * <span class="hljs-doctag">@throws</span> \RuntimeException if unable to read.
     * <span class="hljs-doctag">@throws</span> \RuntimeException if error occurs while reading.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getContents</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Get stream metadata as an associative array or retrieve a specific key.
     *
     * The keys returned are identical to the keys returned from PHP&apos;s
     * stream_get_meta_data() function.
     *
     * <span class="hljs-doctag">@see</span> http://php.net/manual/en/function.stream-get-meta-data.php
     * <span class="hljs-doctag">@param</span> string $key Specific metadata to retrieve.
     * <span class="hljs-doctag">@return</span> array|mixed|null Returns an associative array if no key is
     *     provided. Returns a specific key value if a key is provided and the
     *     value is found, or null if the key is not found.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMetadata</span><span class="hljs-params">($key = null)</span></span>;
}
</code></pre>
<h3 id="35-psrhttpmessageuriinterface">3.5 <code>Psr\Http\Message\UriInterface</code></h3>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Message</span>;

<span class="hljs-comment">/**
 * URI &#x6570;&#x636E;&#x5BF9;&#x8C61;&#x3002;
 *
 * &#x6B64;&#x63A5;&#x53E3;&#x6309;&#x7167; RFC 3986 &#x6765;&#x6784;&#x5EFA; HTTP URI&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x901A;&#x7528;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x7684;&#x5BF9;&#x6B64;&#x63A5;&#x53E3;
 * &#x8FDB;&#x884C;&#x6269;&#x5C55;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64; URI &#x63A5;&#x53E3;&#x6765;&#x505A; HTTP &#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x63A5;&#x53E3;&#x505A;&#x4EFB;&#x4F55; URI 
 * &#x76F8;&#x5173;&#x7684;&#x64CD;&#x4F5C;&#x3002;
 *
 * &#x6B64;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x4F8B;&#x5316;&#x5BF9;&#x8C61;&#x88AB;&#x89C6;&#x4E3A;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x80FD;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90FD; **&#x5FC5;&#x987B;** &#x6709;&#x4E00;&#x5957;&#x673A;&#x5236;&#xFF0C;&#x5728;&#x5185;&#x90E8;&#x4FDD;
 * &#x6301;&#x597D;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x540E;&#x7684;&#xFF0C;&#x65B0;&#x7684;&#x5B9E;&#x4F8B;&#x8FD4;&#x56DE;&#x3002;
 *
 * <span class="hljs-doctag">@see</span> http://tools.ietf.org/html/rfc3986 (URI &#x901A;&#x7528;&#x6807;&#x51C6;&#x89C4;&#x8303;)
 */</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UriInterface</span>
</span>{
    <span class="hljs-comment">/**
     * &#x4ECE; URI &#x4E2D;&#x53D6;&#x51FA; scheme&#x3002;
     *
     * &#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728; Scheme&#xFF0C;&#x6B64;&#x65B9;&#x6CD5; **&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
     *
     * &#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E; **&#x5FC5;&#x987B;** &#x662F;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#xFF0C;&#x9075;&#x7167;  RFC 3986 &#x89C4;&#x8303; 3.1 &#x7AE0;&#x8282;&#x3002;
     *
     * &#x6700;&#x540E;&#x90E8;&#x5206;&#x7684; &quot;:&quot; &#x5B57;&#x4E32;&#x4E0D;&#x5C5E;&#x4E8E; Scheme&#xFF0C;**&#x4E00;&#x5B9A;&#x4E0D;&#x53EF;** &#x4F5C;&#x4E3A;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-3.1
     * <span class="hljs-doctag">@return</span> string URI scheme &#x7684;&#x503C;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getScheme</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x8FD4;&#x56DE; URI &#x6388;&#x6743;&#x4FE1;&#x606F;&#x3002;
     *
     * &#x5982;&#x679C;&#x6CA1;&#x6709; URI &#x4FE1;&#x606F;&#x7684;&#x8BDD;&#xFF0C;**&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x6570;&#x7EC4;&#x3002;
     *
     * URI &#x7684;&#x6388;&#x6743;&#x4FE1;&#x606F;&#x8BED;&#x6CD5;&#x662F;&#xFF1A;
     *
     * &lt;pre&gt;
     * [user-info@]host[:port]
     * &lt;/pre&gt;
     *
     * &#x5982;&#x679C;&#x7AEF;&#x53E3;&#x90E8;&#x5206;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#xFF0C;&#x6216;&#x8005;&#x7AEF;&#x53E3;&#x4E0D;&#x662F;&#x6807;&#x51C6;&#x7AEF;&#x53E3;&#xFF0C;**&#x4E00;&#x5B9A;&#x4E0D;&#x53EF;** &#x5305;&#x542B;&#x5728;&#x8FD4;&#x56DE;&#x503C;&#x5185;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-3.2
     * <span class="hljs-doctag">@return</span> string URI &#x6388;&#x6743;&#x4FE1;&#x606F;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#xFF1A;&quot;[user-info@]host[:port]&quot; 
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAuthority</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x4ECE; URI &#x4E2D;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x3002;
     *
     * &#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5; **&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
     *
     * &#x7528;&#x6237;&#x4FE1;&#x606F;&#x540E;&#x9762;&#x8DDF;&#x7740;&#x7684; &quot;@&quot; &#x5B57;&#x7B26;&#xFF0C;&#x4E0D;&#x662F;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x91CC;&#x9762;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;**&#x4E00;&#x5B9A;&#x4E0D;&#x53EF;** &#x5728;&#x8FD4;&#x56DE;&#x503C;&#x91CC;
     * &#x51FA;&#x73B0;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> string URI &#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x683C;&#x5F0F;&#xFF1A;&quot;username[:password]&quot; 
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUserInfo</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x4ECE; URI &#x4FE1;&#x606F;&#x4E2D;&#x83B7;&#x53D6; HOST &#x503C;&#x3002;
     *
     * &#x5982;&#x679C; URI &#x4E2D;&#x6CA1;&#x6709;&#x6B64;&#x503C;&#xFF0C;**&#x5FC5;&#x987B;** &#x8FD4;&#x56DE;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
     *
     * &#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E; **&#x5FC5;&#x987B;** &#x662F;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#xFF0C;&#x9075;&#x7167;  RFC 3986 &#x89C4;&#x8303; 3.2.2 &#x7AE0;&#x8282;&#x3002;
     *
     * <span class="hljs-doctag">@see</span> http://tools.ietf.org/html/rfc3986#section-3.2.2
     * <span class="hljs-doctag">@return</span> string URI &#x4FE1;&#x606F;&#x4E2D;&#x7684; HOST &#x503C;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHost</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x4ECE; URI &#x4FE1;&#x606F;&#x4E2D;&#x83B7;&#x53D6;&#x7AEF;&#x53E3;&#x4FE1;&#x606F;&#x3002;
     *
     * &#x5982;&#x679C;&#x7AEF;&#x53E3;&#x4FE1;&#x606F;&#x662F;&#x4E0E;&#x5F53;&#x524D; Scheme &#x7684;&#x6807;&#x51C6;&#x7AEF;&#x53E3;&#x4E0D;&#x5339;&#x914D;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x4F7F;&#x7528;&#x6574;&#x6570;&#x503C;&#x7684;&#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x4E00;
     * &#x6837;&#x7684;&#x8BDD;&#xFF0C;**&#x5FC5;&#x987B;** &#x8FD4;&#x56DE; `null` &#x503C;&#x3002;
     * 
     * &#x5982;&#x679C;&#x5B58;&#x5728;&#x7AEF;&#x53E3;&#x4FE1;&#x606F;&#xFF0C;&#x90FD;&#x662F;&#x4E0D;&#x5B58;&#x5728; scheme &#x4FE1;&#x606F;&#x7684;&#x8BDD;&#xFF0C;**&#x5FC5;&#x987B;** &#x8FD4;&#x56DE; `null` &#x503C;&#x3002;
     * 
     * &#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x7AEF;&#x53E3;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F; scheme &#x6570;&#x636E;&#x5B58;&#x5728;&#x7684;&#x8BDD;&#xFF0C;**&#x53EF;&#x4EE5;** &#x8FD4;&#x56DE; scheme &#x5BF9;&#x5E94;&#x7684;
     * &#x6807;&#x51C6;&#x7AEF;&#x53E3;&#xFF0C;&#x4F46;&#x662F; **&#x5E94;&#x8BE5;** &#x8FD4;&#x56DE; `null`&#x3002;
     * 
     * <span class="hljs-doctag">@return</span> null|int &#x4ECE; URI &#x4FE1;&#x606F;&#x4E2D;&#x7684;&#x7AEF;&#x53E3;&#x4FE1;&#x606F;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPort</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x4ECE; URI &#x4FE1;&#x606F;&#x4E2D;&#x83B7;&#x53D6;&#x8DEF;&#x5F84;&#x3002;
     *
     *  The path can either be empty or absolute (starting with a slash) or
     * rootless (not starting with a slash). Implementations MUST support all
     * three syntaxes.
     *
     * Normally, the empty path &quot;&quot; and absolute path &quot;/&quot; are considered equal as
     * defined in RFC 7230 Section 2.7.3. But this method MUST NOT automatically
     * do this normalization because in contexts with a trimmed base path, e.g.
     * the front controller, this difference becomes significant. It&apos;s the task
     * of the user to handle both &quot;&quot; and &quot;/&quot;.
     *
     * The value returned MUST be percent-encoded, but MUST NOT double-encode
     * any characters. To determine what characters to encode, please refer to
     * RFC 3986, Sections 2 and 3.3.
     *
     * As an example, if the value should include a slash (&quot;/&quot;) not intended as
     * delimiter between path segments, that value MUST be passed in encoded
     * form (e.g., &quot;%2F&quot;) to the instance.
     *
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-2
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-3.3
     * <span class="hljs-doctag">@return</span> string The URI path.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPath</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Retrieve the query string of the URI.
     *
     * If no query string is present, this method MUST return an empty string.
     *
     * The leading &quot;?&quot; character is not part of the query and MUST NOT be
     * added.
     *
     * The value returned MUST be percent-encoded, but MUST NOT double-encode
     * any characters. To determine what characters to encode, please refer to
     * RFC 3986, Sections 2 and 3.4.
     *
     * As an example, if a value in a key/value pair of the query string should
     * include an ampersand (&quot;&amp;&quot;) not intended as a delimiter between values,
     * that value MUST be passed in encoded form (e.g., &quot;%26&quot;) to the instance.
     *
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-2
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-3.4
     * <span class="hljs-doctag">@return</span> string The URI query string.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getQuery</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Retrieve the fragment component of the URI.
     *
     * If no fragment is present, this method MUST return an empty string.
     *
     * The leading &quot;#&quot; character is not part of the fragment and MUST NOT be
     * added.
     *
     * The value returned MUST be percent-encoded, but MUST NOT double-encode
     * any characters. To determine what characters to encode, please refer to
     * RFC 3986, Sections 2 and 3.5.
     *
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-2
     * <span class="hljs-doctag">@see</span> https://tools.ietf.org/html/rfc3986#section-3.5
     * <span class="hljs-doctag">@return</span> string The URI fragment.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFragment</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified scheme.
     *
     * This method MUST retain the state of the current instance, and return
     * an instance that contains the specified scheme.
     *
     * Implementations MUST support the schemes &quot;http&quot; and &quot;https&quot; case
     * insensitively, and MAY accommodate other schemes if required.
     *
     * An empty scheme is equivalent to removing the scheme.
     *
     * <span class="hljs-doctag">@param</span> string $scheme The scheme to use with the new instance.
     * <span class="hljs-doctag">@return</span> self A new instance with the specified scheme.
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException for invalid schemes.
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException for unsupported schemes.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withScheme</span><span class="hljs-params">($scheme)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified user information.
     *
     * This method MUST retain the state of the current instance, and return
     * an instance that contains the specified user information.
     *
     * Password is optional, but the user information MUST include the
     * user; an empty string for the user is equivalent to removing user
     * information.
     *
     * <span class="hljs-doctag">@param</span> string $user The user name to use for authority.
     * <span class="hljs-doctag">@param</span> null|string $password The password associated with $user.
     * <span class="hljs-doctag">@return</span> self A new instance with the specified user information.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withUserInfo</span><span class="hljs-params">($user, $password = null)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified host.
     *
     * This method MUST retain the state of the current instance, and return
     * an instance that contains the specified host.
     *
     * An empty host value is equivalent to removing the host.
     *
     * <span class="hljs-doctag">@param</span> string $host The hostname to use with the new instance.
     * <span class="hljs-doctag">@return</span> self A new instance with the specified host.
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException for invalid hostnames.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withHost</span><span class="hljs-params">($host)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified port.
     *
     * This method MUST retain the state of the current instance, and return
     * an instance that contains the specified port.
     *
     * Implementations MUST raise an exception for ports outside the
     * established TCP and UDP port ranges.
     *
     * A null value provided for the port is equivalent to removing the port
     * information.
     *
     * <span class="hljs-doctag">@param</span> null|int $port The port to use with the new instance; a null value
     *     removes the port information.
     * <span class="hljs-doctag">@return</span> self A new instance with the specified port.
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException for invalid ports.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withPort</span><span class="hljs-params">($port)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified path.
     *
     * This method MUST retain the state of the current instance, and return
     * an instance that contains the specified path.
     *
     * The path can either be empty or absolute (starting with a slash) or
     * rootless (not starting with a slash). Implementations MUST support all
     * three syntaxes.
     *
     * If an HTTP path is intended to be host-relative rather than path-relative
     * then it must begin with a slash (&quot;/&quot;). HTTP paths not starting with a slash
     * are assumed to be relative to some base path known to the application or
     * consumer.
     *
     * Users can provide both encoded and decoded path characters.
     * Implementations ensure the correct encoding as outlined in getPath().
     *
     * <span class="hljs-doctag">@param</span> string $path The path to use with the new instance.
     * <span class="hljs-doctag">@return</span> self A new instance with the specified path.
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException for invalid paths.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withPath</span><span class="hljs-params">($path)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified query string.
     *
     * This method MUST retain the state of the current instance, and return
     * an instance that contains the specified query string.
     *
     * Users can provide both encoded and decoded query characters.
     * Implementations ensure the correct encoding as outlined in getQuery().
     *
     * An empty query string value is equivalent to removing the query string.
     *
     * <span class="hljs-doctag">@param</span> string $query The query string to use with the new instance.
     * <span class="hljs-doctag">@return</span> self A new instance with the specified query string.
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException for invalid query strings.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withQuery</span><span class="hljs-params">($query)</span></span>;

    <span class="hljs-comment">/**
     * Return an instance with the specified URI fragment.
     *
     * This method MUST retain the state of the current instance, and return
     * an instance that contains the specified URI fragment.
     *
     * Users can provide both encoded and decoded fragment characters.
     * Implementations ensure the correct encoding as outlined in getFragment().
     *
     * An empty fragment value is equivalent to removing the fragment.
     *
     * <span class="hljs-doctag">@param</span> string $fragment The fragment to use with the new instance.
     * <span class="hljs-doctag">@return</span> self A new instance with the specified fragment.
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">withFragment</span><span class="hljs-params">($fragment)</span></span>;

    <span class="hljs-comment">/**
     * Return the string representation as a URI reference.
     *
     * Depending on which components of the URI are present, the resulting
     * string is either a full URI or relative reference according to RFC 3986,
     * Section 4.1. The method concatenates the various components of the URI,
     * using the appropriate delimiters:
     *
     * - If a scheme is present, it MUST be suffixed by &quot;:&quot;.
     * - If an authority is present, it MUST be prefixed by &quot;//&quot;.
     * - The path can be concatenated without delimiters. But there are two
     *   cases where the path has to be adjusted to make the URI reference
     *   valid as PHP does not allow to throw an exception in __toString():
     *     - If the path is rootless and an authority is present, the path MUST
     *       be prefixed by &quot;/&quot;.
     *     - If the path is starting with more than one &quot;/&quot; and no authority is
     *       present, the starting slashes MUST be reduced to one.
     * - If a query is present, it MUST be prefixed by &quot;?&quot;.
     * - If a fragment is present, it MUST be prefixed by &quot;#&quot;.
     *
     * <span class="hljs-doctag">@see</span> http://tools.ietf.org/html/rfc3986#section-4.1
     * <span class="hljs-doctag">@return</span> string
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__toString</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<h3 id="36-psrhttpmessageuploadedfileinterface">3.6 <code>Psr\Http\Message\UploadedFileInterface</code></h3>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Psr</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Message</span>;

<span class="hljs-comment">/**
 * &#x901A;&#x8FC7; HTTP &#x8BF7;&#x6C42;&#x4E0A;&#x4F20;&#x7684;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;
 *
 * &#x6B64;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x4F8B;&#x662F;&#x88AB;&#x89C6;&#x4E3A;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x80FD;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x90FD; **&#x5FC5;&#x987B;** &#x6709;&#x4E00;&#x5957;&#x673A;&#x5236;&#xFF0C;&#x5728;&#x5185;&#x90E8;&#x4FDD;
 * &#x6301;&#x597D;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x4FEE;&#x6539;&#x72B6;&#x6001;&#x540E;&#x7684;&#xFF0C;&#x65B0;&#x7684;&#x5B9E;&#x4F8B;&#x8FD4;&#x56DE;&#x3002;
 */</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UploadedFileInterface</span>
</span>{
    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x6D41;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; `StreamInterface` &#x5B9E;&#x4F8B;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5;&#x7684;&#x76EE;&#x7684;&#x5728;&#x4E8E;&#x5141;&#x8BB8; PHP &#x5BF9;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x6570;
     * &#x636E;&#x6D41;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#xFF0C;&#x5982; stream_copy_to_stream() &#x3002;
     *
     * &#x5982;&#x679C;&#x5728;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x4E86; `moveTo()` &#x65B9;&#x6CD5;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5; **&#x5FC5;&#x987B;** &#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> StreamInterface &#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x6D41;
     * <span class="hljs-doctag">@throws</span> \RuntimeException &#x6CA1;&#x6709;&#x6570;&#x636E;&#x6D41;&#x7684;&#x60C5;&#x5F62;&#x4E0B;&#x3002;
     * <span class="hljs-doctag">@throws</span> \RuntimeException &#x65E0;&#x6CD5;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x6D41;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getStream</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x628A;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x79FB;&#x52A8;&#x5230;&#x65B0;&#x76EE;&#x5F55;&#x3002;
     *
     * &#x6B64;&#x65B9;&#x6CD5;&#x4FDD;&#x8BC1;&#x80FD;&#x540C;&#x65F6;&#x5728; `SAPI` &#x548C; `non-SAPI` &#x73AF;&#x5883;&#x4E0B;&#x4F7F;&#x7528;&#x3002;&#x5B9E;&#x73B0;&#x7C7B;&#x5E93; **&#x5FC5;&#x987B;** &#x5224;&#x65AD;
     * &#x5F53;&#x524D;&#x5904;&#x5728;&#x4EC0;&#x4E48;&#x73AF;&#x5883;&#x4E0B;&#xFF0C;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x5408;&#x9002;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5904;&#x7406;&#xFF0C;&#x5982; move_uploaded_file(), rename()
     * &#x6216;&#x8005;&#x6570;&#x636E;&#x6D41;&#x64CD;&#x4F5C;&#x3002;
     *
     * $targetPath &#x53EF;&#x4EE5;&#x662F;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#xFF0C;&#x4F7F;&#x7528; rename() &#x89E3;&#x6790;&#x8D77;&#x6765;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;
     *
     * &#x5F53;&#x8FD9;&#x4E00;&#x6B21;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x539F;&#x6765;&#x7684;&#x6587;&#x4EF6; **&#x5FC5;&#x987B;** &#x4F1A;&#x88AB;&#x79FB;&#x9664;&#x3002;
     * 
     * &#x5982;&#x679C;&#x6B64;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x591A;&#x6B21;&#xFF0C;&#x4E00;&#x6B21;&#x4EE5;&#x540E;&#x7684;&#x5176;&#x4ED6;&#x8C03;&#x7528;&#xFF0C;&#x90FD;&#x8981;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;
     *
     * &#x5982;&#x679C;&#x5728; SAPI &#x73AF;&#x5883;&#x4E0B;&#x7684;&#x8BDD;&#xFF0C;$_FILES &#x5185;&#x6709;&#x503C;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;  moveTo(), is_uploaded_file()
     * &#x548C; move_uploaded_file() &#x65B9;&#x6CD5;&#x6765;&#x79FB;&#x52A8;&#x6587;&#x4EF6;&#x65F6; **&#x5E94;&#x8BE5;** &#x786E;&#x4FDD;&#x6743;&#x9650;&#x548C;&#x4E0A;&#x4F20;&#x72B6;&#x6001;&#x7684;&#x51C6;&#x786E;&#x6027;&#x3002;
     * 
     * &#x5982;&#x679C;&#x4F60;&#x5E0C;&#x671B;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x6D41;&#x7684;&#x8BDD;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; `getStream()` &#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x5728; SAPI &#x573A;&#x666F;&#x4E0B;&#xFF0C;&#x65E0;&#x6CD5;
     * &#x4FDD;&#x8BC1;&#x4E66;&#x5199;&#x5165;&#x6570;&#x636E;&#x6D41;&#x76EE;&#x6807;&#x3002;
     * 
     * <span class="hljs-doctag">@see</span> http://php.net/is_uploaded_file
     * <span class="hljs-doctag">@see</span> http://php.net/move_uploaded_file
     * <span class="hljs-doctag">@param</span> string $targetPath &#x76EE;&#x6807;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x3002;
     * <span class="hljs-doctag">@throws</span> \InvalidArgumentException &#x53C2;&#x6570;&#x6709;&#x95EE;&#x9898;&#x65F6;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;
     * <span class="hljs-doctag">@throws</span> \RuntimeException &#x53D1;&#x751F;&#x4EFB;&#x4F55;&#x9519;&#x8BEF;&#xFF0C;&#x90FD;&#x629B;&#x51FA;&#x6B64;&#x5F02;&#x5E38;&#x3002;
     * <span class="hljs-doctag">@throws</span> \RuntimeException &#x591A;&#x6B21;&#x8FD0;&#x884C;&#xFF0C;&#x4E5F;&#x629B;&#x51FA;&#x6B64;&#x5F02;&#x5E38;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moveTo</span><span class="hljs-params">($targetPath)</span></span>;

    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x3002;
     *
     * &#x5B9E;&#x73B0;&#x7C7B;&#x5E93; **&#x5E94;&#x8BE5;** &#x4F18;&#x5148;&#x4F7F;&#x7528; $_FILES &#x91CC;&#x7684; `size` &#x6570;&#x503C;&#x3002;
     * 
     * <span class="hljs-doctag">@return</span> int|null &#x4EE5; bytes &#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x6216;&#x8005; null &#x672A;&#x77E5;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSize</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x65F6;&#x51FA;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#x3002;
     *
     * &#x8FD4;&#x56DE;&#x503C; **&#x5FC5;&#x987B;** &#x662F; PHP &#x7684; UPLOAD_ERR_XXX &#x5E38;&#x91CF;&#x3002;
     *
     * &#x5982;&#x679C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5; **&#x5FC5;&#x987B;** &#x8FD4;&#x56DE; UPLOAD_ERR_OK&#x3002;
     *
     * &#x5B9E;&#x73B0;&#x7C7B;&#x5E93; **&#x5FC5;&#x987B;** &#x8FD4;&#x56DE; $_FILES &#x6570;&#x7EC4;&#x4E2D;&#x7684; `error` &#x503C;&#x3002;
     * 
     * <span class="hljs-doctag">@see</span> http://php.net/manual/en/features.file-upload.errors.php
     * <span class="hljs-doctag">@return</span> int PHP &#x7684; UPLOAD_ERR_XXX &#x5E38;&#x91CF;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getError</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x83B7;&#x53D6;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x3002;
     * 
     * &#x6C38;&#x8FDC;&#x4E0D;&#x8981;&#x4FE1;&#x4EFB;&#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x6709;&#x53EF;&#x80FD;&#x53D1;&#x9001;&#x4E86;&#x4E00;&#x4E2A;&#x6076;&#x610F;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x6765;&#x653B;&#x51FB;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x3002;
     * 
     * &#x5B9E;&#x73B0;&#x7C7B;&#x5E93; **&#x5E94;&#x8BE5;** &#x8FD4;&#x56DE;&#x5B58;&#x50A8;&#x5728; $_FILES &#x6570;&#x7EC4;&#x4E2D; `name` &#x7684;&#x503C;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> string|null &#x7528;&#x6237;&#x4E0A;&#x4F20;&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x6216;&#x8005; null &#x5982;&#x679C;&#x6CA1;&#x6709;&#x6B64;&#x503C;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClientFilename</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * &#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4EA4;&#x7684;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x3002;
     * 
     * &#x6C38;&#x8FDC;&#x4E0D;&#x8981;&#x4FE1;&#x4EFB;&#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x6709;&#x53EF;&#x80FD;&#x53D1;&#x9001;&#x4E86;&#x4E00;&#x4E2A;&#x6076;&#x610F;&#x7684;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x540D;&#x79F0;&#x6765;&#x653B;&#x51FB;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x3002;
     *
     * &#x5B9E;&#x73B0;&#x7C7B;&#x5E93; **&#x5E94;&#x8BE5;** &#x8FD4;&#x56DE;&#x5B58;&#x50A8;&#x5728; $_FILES &#x6570;&#x7EC4;&#x4E2D; `type` &#x7684;&#x503C;&#x3002;
     *
     * <span class="hljs-doctag">@return</span> string|null &#x7528;&#x6237;&#x4E0A;&#x4F20;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x6216;&#x8005; null &#x5982;&#x679C;&#x6CA1;&#x6709;&#x6B64;&#x503C;&#x3002;
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClientMediaType</span><span class="hljs-params">()</span></span>;
}
</code></pre>

						
					</section>
					
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

				</div>
			</div>
			
		</div>

		
		
		<a href="PSR-6缓存接口规范.html" class="navigation navigation-prev " aria-label="Previous page: PSR-6缓存接口规范">
			<i class="fa fa-angle-left"></i>
		</a>
		
		
		<a href="../composer/readme.html" class="navigation navigation-next " aria-label="Next page: Composer">
			<i class="fa fa-angle-right"></i>
		</a>
		
		
		
	</div>
	<script>
		var gitbook = gitbook || [];
		gitbook.push(function() {
			gitbook.page.hasChanged({"page":{"title":"PSR-7 HTTP消息接口规范","level":"1.2.6","depth":2,"next":{"title":"Composer","level":"1.3","depth":1,"path":"composer/readme.md","ref":"composer/readme.md","articles":[{"title":"composer.schema composer.json文件解析","level":"1.3.1","depth":2,"path":"composer/composer.schema.md","ref":"composer/composer.schema.md","articles":[]},{"title":"composer 开发测试发布步骤","level":"1.3.2","depth":2,"path":"composer/develop.md","ref":"composer/develop.md","articles":[]},{"title":"composer 版本说明","level":"1.3.3","depth":2,"path":"composer/composer.version.md","ref":"composer/composer.version.md","articles":[]},{"title":"composer 命令中文说明","level":"1.3.4","depth":2,"path":"composer/command.md","ref":"composer/command.md","articles":[]},{"title":"开发管理流程","level":"1.3.5","depth":2,"path":"composer/workflow.md","ref":"composer/workflow.md","articles":[]}]},"previous":{"title":"PSR-6缓存接口规范","level":"1.2.5","depth":2,"path":"psr/PSR-6缓存接口规范.md","ref":"psr/PSR-6缓存接口规范.md","articles":[]},"dir":"ltr"},"config":{"plugins":["copy-code-button","cuav-chapters","splitter","-sharing","-fontsettings","back-to-top-button","theme-fexa@https://github.com/alvinor/gitbook-plugin-theme-fexa.git","cuav-chapters","heading-anchors"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"splitter":{},"search":{},"cuav-chapters":{"summaryMaxSize":20,"useLimitExpanded":false},"theme-fexa":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"heading-anchors":{},"highlight":{},"back-to-top-button":{},"copy-code-button":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"杜鑫 <alvinor@qq.com>","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"themeFexa":{"nav":[{"url":"http://doc.qxedne.com","target":"_blank","name":"首页"},{"url":"https://doc.qxeden.com/mermaidjs","target":"_blank","name":"mermaid"},{"url":"https://chrisniael.gitbooks.io/gitbook-documentation/content/","target":"_blank","name":"Gitbook"}]}},"title":"书屋","language":"zh-hans","links":false,"gitbook":"*","description":"个人收藏夹"},"file":{"path":"psr/PSR-7 HTTP消息接口规范.md","mtime":"2019-06-06T09:12:08.540Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-08-04T16:30:21.417Z"},"basePath":"..","book":{"language":""}});
		});
	</script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-cuav-chapters/cuav-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-theme-fexa/fexa.js"></script>
        
    

    </body>
</html>

